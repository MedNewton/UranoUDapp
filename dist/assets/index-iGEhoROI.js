import{cn as ze,co as Xa,cp as Qa,cq as eo,cr as Bt,cs as $,ct as dt,cu as ut,z as es,cv as $t,O as lt,cw as he,am as X,al as M,cx as to,cy as Bc,cz as $c,cA as ts,cB as Be,cC as no,b3 as U,b4 as $e,_ as ns,cD as D,cE as Ct,cF as H,aT as me,cG as ye,cH as ve,cI as Ws,cJ as ro,aV as ie,aU as an,cK as Fe,cL as Ne,cM as rs,cN as so,x as xn,cO as ao,cP as on,cQ as oo,cR as io,cS as co,cT as vn,bL as We,cU as Cc,cV as Ze,cW as cn,cX as un,cY as kc,cZ as Zs,c_ as Rc,c$ as Nc,d0 as Mc,d1 as zc,aP as Re,d2 as en,d3 as Fc,d4 as _c,aQ as tn,d5 as Pt,d6 as Oc,d7 as Lc,d8 as qc,d9 as Uc,da as jc,db as Dc,dc as Ee,dd as _e,de as Gc,b1 as Hc,df as Ht,b0 as yr,dg as uo,dh as Vc,di as Wc,aW as Zc,dj as Kc,aZ as Yc,aY as Ks,a_ as Jc,dk as Xc,dl as Qc,dm as eu,dn as fo,dp as Ys,dq as tu,dr as lo,ds as gr,dt as nu,i as ru,v as su,j as au}from"./index-B7UgA71q.js";import{du as ab,dv as ob,dw as ib,dx as cb,dy as ub,dz as fb,dA as db,dB as lb,dC as pb,dD as mb,dE as bb,dF as hb,dG as yb,dH as gb,dI as wb,dJ as xb,dK as vb,dL as Eb,dM as Pb,dN as Ib,dO as Tb,dP as Ab,dQ as Sb,dR as Bb,dS as $b,dT as Cb,dU as kb,dV as Rb,dW as Nb,dX as Mb,dY as zb,dZ as Fb,d_ as _b,d$ as Ob,e0 as Lb,e1 as qb,e1 as Ub,e2 as jb,e3 as Db,e4 as Gb,e5 as Hb,e6 as Vb,e7 as Wb,e8 as Zb,e9 as Kb,ea as Yb,e0 as Jb,e1 as Xb,ea as Qb,e1 as eh,eb as th}from"./index-B7UgA71q.js";import{g as ou,I as fn,R as ss,a as dn,b as wr,A as xr,M as Vt,H as Ge,c as iu,U as nn,d as Js,B as Xs,e as Qs,D as ea,f as ta,S as na,C as ra,P as sa,h as aa,i as oa,J as ia,L as vr,T as Er,j as ca,k as ua,l as fa,m as da,n as la,o as pa,p as po,q as Pr,r as ln,W as ma}from"./rpc-B9WWPuLj.js";import{s as rh,t as sh}from"./rpc-B9WWPuLj.js";import{t as Me,a as En,s as cu,H as uu,b as fu}from"./sha256-CuE4SomN.js";import{c as oh,h as ih,d as ch,e as uh,f as fh,g as dh,i as lh,j as ph,k as mh,l as bh,n as hh,o as yh,p as gh,q as wh,r as xh,u as vh,v as Eh,w as Ph,x as Ih,y as Th,z as Ah,A as Sh,B as Bh,C as $h,D as Ch,E as kh,F as Rh,G as Nh,I as Mh,J as zh,K as Fh,L as _h,M as Oh,N as Lh,O as qh,P as Uh,Q as jh,R as Dh,S as Gh,T as Hh,U as Vh,m as Wh,V as Zh,W as Kh,X as Yh,Y as Jh,Z as Xh,_ as Qh,$ as ey,a0 as ty,a1 as ny,a2 as ry,a3 as sy,a4 as ay,a5 as oy,a6 as iy,a7 as cy,a8 as uy,a9 as fy,aa as dy,ab as ly,ac as py,ad as my,ae as by,af as hy,ag as yy,ah as gy,ai as wy,aj as xy,ak as vy,al as Ey,am as Py,an as Iy,ao as Ty,ap as Ay,aq as Sy,ar as By,as as $y,at as Cy,au as ky,av as Ry,aw as Ny,ax as My,ay as zy,az as Fy,aA as _y,aB as Oy,aC as Ly,aD as qy,aE as Uy,aF as jy,aG as Dy,aH as Gy,aI as Hy,aJ as Vy,aK as Wy,aL as Zy}from"./sha256-CuE4SomN.js";const du="1.1.0";let re=class Ir extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Ir?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Ir&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${du}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const mo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function lu(e){return mo.test(e)}function pu(e){return ze(mo,e)}const bo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mu(e){return bo.test(e)}function bu(e){return ze(bo,e)}const ho=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function hu(e){return ho.test(e)}function yu(e){return ze(ho,e)}const yo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function kt(e){return yo.test(e)}function gu(e){return ze(yo,e)}const go=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function wu(e){return go.test(e)}function xu(e){return ze(go,e)}const wo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vu(e){return wo.test(e)}function Eu(e){return ze(wo,e)}const Pu=/^receive\(\) external payable$/;function Iu(e){return Pu.test(e)}const pn=new Set(["memory","indexed","storage","calldata"]),Tu=new Set(["indexed"]),Tr=new Set(["calldata","memory","storage"]);class Au extends re{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Su extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Bu extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class $u extends re{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class Cu extends re{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class ku extends re{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ru extends re{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Nu extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Mu extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zu extends re{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends re{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Fu extends re{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class _u extends re{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ou extends re{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Lu extends re{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function qu(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const o of s[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const Kn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ar(e,t={}){if(hu(e))return Uu(e,t);if(mu(e))return ju(e,t);if(lu(e))return Du(e,t);if(wu(e))return Gu(e,t);if(vu(e))return Hu(e);if(Iu(e))return{type:"receive",stateMutability:"payable"};throw new Fu({signature:e})}function Uu(e,t={}){const n=yu(e);if(!n)throw new pt({signature:e,type:"function"});const r=ue(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(ge(r[c],{modifiers:Tr,structs:t,type:"function"}));const o=[];if(n.returns){const c=ue(n.returns),i=c.length;for(let u=0;u<i;u++)o.push(ge(c[u],{modifiers:Tr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function ju(e,t={}){const n=bu(e);if(!n)throw new pt({signature:e,type:"event"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{modifiers:Tu,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Du(e,t={}){const n=pu(e);if(!n)throw new pt({signature:e,type:"error"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Gu(e,t={}){const n=xu(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Hu(e){const t=Eu(e);if(!t)throw new pt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Vu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wu=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Zu=/^u?int$/;function ge(e,t){var l,p;const n=qu(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Kn.has(n))return Kn.get(n);const r=Xa.test(e),s=ze(r?Wu:Vu,e);if(!s)throw new ku({param:e});if(s.name&&Yu(s.name))throw new Ru({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let i,u={};if(r){i="tuple";const d=ue(s.type),m=[],b=d.length;for(let g=0;g<b;g++)m.push(ge(d[g],{structs:c}));u={components:m}}else if(s.type in c)i="tuple",u={components:c[s.type]};else if(Zu.test(s.type))i=`${s.type}256`;else if(s.type==="address payable")i="address";else if(i=s.type,(t==null?void 0:t.type)!=="struct"&&!xo(i))throw new Bu({type:i});if(s.modifier){if(!((p=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&p.call(l,s.modifier)))throw new Nu({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Tr.has(s.modifier)&&!Ju(i,!!s.array))throw new Mu({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${i}${s.array??""}`,...a,...o,...u};return Kn.set(n,f),f}function ue(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],c=e.slice(a+1);switch(o){case",":return r===0?ue(c,[...t,n.trim()]):ue(c,t,`${n}${o}`,r);case"(":return ue(c,t,`${n}${o}`,r+1);case")":return ue(c,t,`${n}${o}`,r-1);default:return ue(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Lu({current:n,depth:r});return t.push(n.trim()),t}function xo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Qa.test(e)||eo.test(e)}const Ku=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Yu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Qa.test(e)||eo.test(e)||Ku.test(e)}function Ju(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Pn(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!kt(c))continue;const i=gu(c);if(!i)throw new pt({signature:c,type:"struct"});const u=i.properties.split(";"),f=[],l=u.length;for(let p=0;p<l;p++){const m=u[p].trim();if(!m)continue;const b=ge(m,{type:"struct"});f.push(b)}if(!f.length)throw new _u({signature:c});t[i.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[c,i]=s[o];r[c]=vo(i,t)}return r}const Xu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function vo(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Xa.test(o.type))r.push(o);else{const i=ze(Xu,o.type);if(!(i!=null&&i.type))throw new zu({abiParameter:o});const{array:u,type:f}=i;if(f in t){if(n.has(f))throw new Ou({type:f});r.push({...o,type:`tuple${u??""}`,components:vo(t[f]??[],t,new Set([...n,f]))})}else if(xo(f))r.push(o);else throw new Su({type:f})}}return r}function Eo(e){const t=Pn(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];kt(a)||n.push(Ar(a,t))}return n}function ba(e){let t;if(typeof e=="string")t=Ar(e);else{const n=Pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!kt(a)){t=Ar(a,n);break}}}if(!t)throw new Au({signature:e});return t}function fm(e){let t;if(typeof e=="string")t=ge(e,{modifiers:pn});else{const n=Pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!kt(a)){t=ge(a,{modifiers:pn,structs:n});break}}}if(!t)throw new $u({param:e});return t}function ha(e){const t=[];if(typeof e=="string"){const n=ue(e),r=n.length;for(let s=0;s<r;s++)t.push(ge(n[s],{modifiers:pn}))}else{const n=Pn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(kt(a))continue;const o=ue(a),c=o.length;for(let i=0;i<c;i++)t.push(ge(o[i],{modifiers:pn,structs:n}))}}if(t.length===0)throw new Cu({params:e});return t}function F(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function In(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:c,transport:i})=>{c==="success"&&t===a&&(n[o]=i.request)})),(a=>n[a]||e.request)}async function as(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:c,toBlock:i}=t,u=In(e,{method:"eth_newFilter"}),f=a?Bt({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$(o):o,toBlock:typeof i=="bigint"?$(i):i,topics:f}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:!!c,type:"event"}}function V(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ya="/docs/contract/encodeFunctionData";function Qu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=dt({abi:t,args:n,name:r});if(!a)throw new ut(r,{docsPath:ya});s=a}if(s.type!=="function")throw new ut(void 0,{docsPath:ya});return{abi:[s],functionName:es($t(s))}}function de(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var c;return e.abi.length===1&&((c=e.functionName)!=null&&c.startsWith("0x"))?e:Qu(e)})(),s=n[0],a=r,o="inputs"in s&&s.inputs?lt(s.inputs,t??[]):void 0;return he([a,o??"0x"])}function Po({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?X(t[a]):t[a]}`).join(", ")})`}const Io={gwei:9,wei:18},To={ether:-9,wei:9},dm={ether:-18,gwei:-9};function Ao(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function os(e,t="wei"){return Ao(e,Io[t])}function oe(e,t="wei"){return Ao(e,To[t])}class e0 extends M{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class t0 extends M{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ga(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function n0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ga(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ga(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Rt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class r0 extends M{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class So extends M{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class s0 extends M{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Rt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class a0 extends M{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class Nt extends M{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([a,o])=>typeof o>"u"?a:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class o0 extends M{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class i0 extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){var m;const d=Rt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${os(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",d].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Bo extends M{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class $o extends M{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Co extends M{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class c0 extends M{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class ko extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p,stateOverride:d}){var g;const m=n?V(n):void 0;let b=Rt({from:m==null?void 0:m.address,to:l,value:typeof p<"u"&&`${os(p)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});d&&(b+=`
${n0(d)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ro extends M{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:c}){const i=dt({abi:n,args:r,name:o}),u=i?Po({abiItem:i,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=i?$t(i,{includeName:!0}):void 0,l=Rt({address:s&&ou(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Sr extends M{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,c,i;if(n&&n!=="0x")try{o=to({abi:t,data:n});const{abiItem:f,errorName:l,args:p}=o;if(l==="Error")i=p[0];else if(l==="Panic"){const[d]=p;i=Bc[d]}else{const d=f?$t(f,{includeName:!0}):void 0,m=f&&p?Po({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;c=[d?`Error: ${d}`:"",m&&m!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){a=f}else s&&(i=s);let u;a instanceof $c&&(u=a.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(i&&i!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,i||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=i,this.signature=u}}class u0 extends M{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class f0 extends M{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Tn extends M{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const d0=3;function Ke(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const c=e instanceof Tn?e:e instanceof M?e.walk(m=>"data"in m)||e.walk():{},{code:i,data:u,details:f,message:l,shortMessage:p}=c,d=e instanceof ts?new u0({functionName:a}):[d0,fn.code].includes(i)&&(u||f||l||p)?new Sr({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:c instanceof ss?f:p??l}):e;return new Ro(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function l0(e){const t=Be(`0x${e.substring(4)}`).substring(26);return no(`0x${t}`)}async function p0({hash:e,signature:t}){const n=U(e)?e:$e(e),{secp256k1:r}=await ns(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Xl);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:p}=t,d=Number(p??l),m=wa(d);return new r.Signature(D(u),D(f)).addRecoveryBit(m)}const o=U(t)?t:$e(t);if(Ct(o)!==65)throw new Error("invalid signature length");const c=H(`0x${o.slice(130)}`),i=wa(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function wa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function mt({hash:e,signature:t}){return l0(await p0({hash:e,signature:t}))}function m0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Be(he(["0x05",Me([t?$(t):"0x",s,n?$(n):"0x"])]));return r==="bytes"?me(a):a}async function An(e){const{authorization:t,signature:n}=e;return mt({hash:m0(t),signature:n??t})}class b0 extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){var m;const d=Rt({from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${os(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class je extends M{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(je,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ye extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Ye,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Br extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class $r extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty($r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Cr extends M{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Cr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class kr extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Rr extends M{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Nr extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Mr extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class zr extends M{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class It extends M{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${oe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(It,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Mt extends M{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Sn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof M?e.walk(s=>(s==null?void 0:s.code)===je.code):e;return r instanceof M?new je({cause:e,message:r.details}):je.nodeMessage.test(n)?new je({cause:e,message:e.details}):Ye.nodeMessage.test(n)?new Ye({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Br.nodeMessage.test(n)?new Br({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):$r.nodeMessage.test(n)?new $r({cause:e,nonce:t==null?void 0:t.nonce}):Cr.nodeMessage.test(n)?new Cr({cause:e,nonce:t==null?void 0:t.nonce}):kr.nodeMessage.test(n)?new kr({cause:e,nonce:t==null?void 0:t.nonce}):Rr.nodeMessage.test(n)?new Rr({cause:e}):Nr.nodeMessage.test(n)?new Nr({cause:e,gas:t==null?void 0:t.gas}):Mr.nodeMessage.test(n)?new Mr({cause:e,gas:t==null?void 0:t.gas}):zr.nodeMessage.test(n)?new zr({cause:e}):It.nodeMessage.test(n)?new It({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Mt({cause:e})}function h0(e,{docsPath:t,...n}){const r=(()=>{const s=Sn(e,n);return s instanceof Mt?e:s})();return new b0(r,{docsPath:t,...n})}function bt(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const c of o)c in e&&(n[c]=e[c]),a[c]&&typeof a[c]=="object"&&!Array.isArray(a[c])&&r(a[c])}const s=t(e||{});return r(s),n}function xa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ws({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ws({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function y0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=$(t)),n!==void 0&&(o.nonce=$(n)),r!==void 0&&(o.state=xa(r)),s!==void 0){if(o.state)throw new t0;o.stateDiff=xa(s)}return o}function is(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ye(n,{strict:!1}))throw new ve({address:n});if(t[n])throw new e0({address:n});t[n]=y0(r)}return t}function Oe(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?V(t):void 0;if(o&&!ye(o.address))throw new ve({address:o.address});if(a&&!ye(a))throw new ve({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new r0;if(r&&r>En)throw new Ye({maxFeePerGas:r});if(s&&r&&s>r)throw new It({maxFeePerGas:r,maxPriorityFeePerGas:s})}class g0 extends M{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class cs extends M{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class w0 extends M{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${oe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class No extends M{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function xe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,l;const a=s??!1,o=n!==void 0?$(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!c)throw new No({blockHash:t,blockNumber:n});return(((l=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:l.format)||ro)(c,"getBlock")}async function us(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function x0(e,t){return Mo(e,t)}async function Mo(e,t){var a,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const u=n||await F(e,xe,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return D(i)}catch{const[c,i]=await Promise.all([n?Promise.resolve(n):F(e,xe,"getBlock")({}),F(e,us,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new cs;const u=i-c.baseFeePerGas;return u<0n?0n:u}}async function v0(e,t){return Fr(e,t)}async function Fr(e,t){var p,d;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var m,b;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(o<1)throw new g0;const i=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=m=>m*BigInt(Math.ceil(o*i))/BigInt(i),f=n||await F(e,xe,"getBlock")({});if(typeof((d=r==null?void 0:r.fees)==null?void 0:d.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(m!==null)return m}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new cs;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Mo(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await F(e,us,"getGasPrice")({}))}}async function Bn(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?$(r):n]},{dedupe:!!r});return H(s)}function fs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>me(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>ie(a))}function ds(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>me(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>me(o)):e.commitments,a=[];for(let o=0;o<r.length;o++){const c=r[o],i=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(c,i)))}return n==="bytes"?a:a.map(o=>ie(o))}function zo(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=cu(t,"bytes");return s.set([n],0),r==="bytes"?s:ie(s)}function Fo(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(zo({commitment:a,to:r,version:n}));return s}const va=6,_o=32,ls=4096,Oo=_o*ls,Ea=Oo*va-1-1*ls*va,Lo=1;class E0 extends M{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class qo extends M{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class P0 extends M{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class I0 extends M{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Lo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function T0(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?me(e.data):e.data,r=Ct(n);if(!r)throw new qo;if(r>Ea)throw new E0({maxSize:Ea,size:r});const s=[];let a=!0,o=0;for(;a;){const c=an(new Uint8Array(Oo));let i=0;for(;i<ls;){const u=n.slice(o,o+(_o-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),a=!1;break}i++,o+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>ie(c.bytes))}function ps(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??T0({data:t,to:r}),a=e.commitments??fs({blobs:s,kzg:n,to:r}),o=e.proofs??ds({blobs:s,commitments:a,kzg:n,to:r}),c=[];for(let i=0;i<s.length;i++)c.push({blob:s[i],commitment:a[i],proof:o[i]});return c}function Uo(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new s0({transaction:e})}async function et(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return H(t)}const ms=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Pa=new Map;async function zt(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:c,nonceManager:i,parameters:u=ms,type:f}=t,l=n&&V(n),p={...t,...l?{from:l==null?void 0:l.address}:{}};let d;async function m(){return d||(d=await F(e,xe,"getBlock")({blockTag:"latest"}),d)}let b;async function g(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await F(e,et,"getChainId")({}),b))}if(u.includes("nonce")&&typeof c>"u"&&l)if(i){const y=await g();p.nonce=await i.consume({address:l.address,chainId:y,client:e})}else p.nonce=await F(e,Bn,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const y=fs({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=Fo({commitments:y,to:"hex"});p.blobVersionedHashes=x}if(u.includes("sidecars")){const x=ds({blobs:r,commitments:y,kzg:o}),w=ps({blobs:r,commitments:y,proofs:x,to:"hex"});p.sidecars=w}}if(u.includes("chainId")&&(p.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{p.type=Uo(p)}catch{let y=Pa.get(e.uid);if(typeof y>"u"){const x=await m();y=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",Pa.set(e.uid,y)}p.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const y=await m(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await Fr(e,{block:y,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new w0({maxPriorityFeePerGas:w});p.maxPriorityFeePerGas=w,p.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new cs;if(typeof t.gasPrice>"u"){const y=await m(),{gasPrice:x}=await Fr(e,{block:y,chain:s,request:p,type:"legacy"});p.gasPrice=x}}return u.includes("gas")&&typeof a>"u"&&(p.gas=await F(e,bs,"estimateGas")({...p,account:l,prepare:(l==null?void 0:l.type)==="local"?[]:["blobVersionedHashes"]})),Oe(p),delete p.parameters,p}async function bs(e,t){var o,c,i;const{account:n=e.account,prepare:r=!0}=t,s=n?V(n):void 0,a=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:f,blobs:l,blobVersionedHashes:p,blockNumber:d,blockTag:m,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:h,nonce:v,value:E,stateOverride:P,...I}=r?await zt(e,{...t,parameters:a}):t,C=(typeof d=="bigint"?$(d):void 0)||m,T=is(P),k=await(async()=>{if(I.to)return I.to;if(f&&f.length>0)return await An({authorization:f[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`")})})();Oe(t);const N=(i=(c=(o=e.chain)==null?void 0:o.formatters)==null?void 0:c.transactionRequest)==null?void 0:i.format,S=(N||Fe)({...bt(I,{format:N}),account:s,accessList:u,authorizationList:f,blobs:l,blobVersionedHashes:p,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:x,maxFeePerGas:w,maxPriorityFeePerGas:h,nonce:v,to:k,value:E},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:T?[S,C??e.experimental_blockTag??"latest",T]:C?[S,C]:[S]}))}catch(u){throw h0(u,{...t,account:s,chain:e.chain})}}async function jo(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...c}=t,i=de({abi:n,args:s,functionName:a});try{return await F(e,bs,"estimateGas")({data:`${i}${o?o.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?V(c.account):void 0;throw Ke(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f==null?void 0:f.address})}}async function hs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:c,strict:i}={}){const u=i??!1,f=o??(a?[a]:void 0);let l=[];f&&(l=[f.flatMap(b=>Bt({abi:[b],eventName:b.name,args:o?void 0:c}))],a&&(l=l[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?$(r):r,toBlock:typeof s=="bigint"?$(s):s}]});const d=p.map(m=>Ne(m));return f?rs({abi:f,args:c,logs:d,strict:u}):d}async function ys(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:c,toBlock:i,strict:u}=t,f=o?dt({abi:n,name:o}):void 0,l=f?void 0:n.filter(p=>p.type==="event");return F(e,hs,"getLogs")({address:r,args:s,blockHash:a,event:f,events:l,fromBlock:c,toBlock:i,strict:u})}const Yn="/docs/contract/decodeFunctionResult";function tt(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const c=dt({abi:t,args:n,name:r});if(!c)throw new ut(r,{docsPath:Yn});a=c}if(a.type!=="function")throw new ut(void 0,{docsPath:Yn});if(!a.outputs)throw new so(a.name,{docsPath:Yn});const o=xn(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gs=BigInt(0),_r=BigInt(1);function Ft(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ws(e){if(!Ft(e))throw new Error("Uint8Array expected")}function Tt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Wt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Do(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?gs:BigInt("0x"+e)}const Go=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function At(e){if(ws(e),Go)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=A0[e[n]];return t}const Pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ia(e){if(e>=Pe._0&&e<=Pe._9)return e-Pe._0;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function mn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Go)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const o=Ia(e.charCodeAt(a)),c=Ia(e.charCodeAt(a+1));if(o===void 0||c===void 0){const i=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+a)}r[s]=o*16+c}return r}function He(e){return Do(At(e))}function Ho(e){return ws(e),Do(At(Uint8Array.from(e).reverse()))}function _t(e,t){return mn(e.toString(16).padStart(t*2,"0"))}function Vo(e,t){return _t(e,t).reverse()}function pe(e,t,n){let r;if(typeof t=="string")try{r=mn(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(Ft(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function bn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ws(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const Jn=e=>typeof e=="bigint"&&gs<=e;function xs(e,t,n){return Jn(e)&&Jn(t)&&Jn(n)&&t<=e&&e<n}function it(e,t,n,r){if(!xs(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function S0(e){let t;for(t=0;e>gs;e>>=_r,t+=1);return t}const $n=e=>(_r<<BigInt(e))-_r,Xn=e=>new Uint8Array(e),Ta=e=>Uint8Array.from(e);function B0(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Xn(e),s=Xn(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},c=(...l)=>n(s,r,...l),i=(l=Xn(0))=>{s=c(Ta([0]),l),r=c(),l.length!==0&&(s=c(Ta([1]),l),r=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<t;){r=c();const d=r.slice();p.push(d),l+=r.length}return bn(...p)};return(l,p)=>{o(),i(l);let d;for(;!(d=p(u()));)i();return o(),d}}const $0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ft(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Cn(e,t,n={}){const r=(s,a,o)=>{const c=$0[a];if(typeof c!="function")throw new Error("invalid validator function");const i=e[s];if(!(o&&i===void 0)&&!c(i,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+i)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function Aa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const C0="0.1.1";function k0(){return C0}class L extends Error{constructor(t,n={}){const r=(()=>{var i;if(n.cause instanceof L){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=n.cause instanceof L&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${k0()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Wo(this,t)}}function Wo(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Wo(e.cause,t):t?null:e}function Ot(e,t){if(at(e)>t)throw new J0({givenSize:at(e),maxSize:t})}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function Sa(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function R0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new X0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const o=n==="right";s[o?a:r-a-1]=e[o?a:e.length-a-1]}return s}function Zo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function kn(e,t){if(ne(e)>t)throw new nf({givenSize:ne(e),maxSize:t})}function N0(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new ni({offset:t,position:"start",size:ne(e)})}function M0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new ni({offset:n,position:"end",size:ne(e)})}function Ko(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new rf({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function z0(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const F0="#__bigint";function Rn(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+F0:s,n)}const _0=new TextDecoder,O0=new TextEncoder;function L0(e){if(!(e instanceof Uint8Array)){if(!e)throw new Zt(e);if(typeof e!="object")throw new Zt(e);if(!("BYTES_PER_ELEMENT"in e))throw new Zt(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Zt(e)}}function q0(e){return e instanceof Uint8Array?e:typeof e=="string"?vs(e):U0(e)}function U0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function vs(e,t={}){const{size:n}=t;let r=e;n&&(kn(e,n),r=Xe(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let c=0,i=0;c<a;c++){const u=Sa(s.charCodeAt(i++)),f=Sa(s.charCodeAt(i++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[c]=u*16+f}return o}function j0(e,t={}){const{size:n}=t,r=O0.encode(e);return typeof n=="number"?(Ot(r,n),D0(r,n)):r}function D0(e,t){return R0(e,{dir:"right",size:t})}function at(e){return e.length}function G0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function H0(e,t={}){const{size:n}=t;typeof n<"u"&&Ot(e,n);const r=fe(e,t);return Xo(r,t)}function V0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Ot(r,n),r=Yo(r)),r.length>1||r[0]>1)throw new Y0(r);return!!r[0]}function Se(e,t={}){const{size:n}=t;typeof n<"u"&&Ot(e,n);const r=fe(e,t);return Qo(r,t)}function W0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Ot(r,n),r=Z0(r)),_0.decode(r)}function Yo(e){return Zo(e,{dir:"left"})}function Z0(e){return Zo(e,{dir:"right"})}function K0(e){try{return L0(e),!0}catch{return!1}}class Y0 extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class Zt extends L{constructor(t){super(`Value \`${typeof t=="object"?Rn(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let J0=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},X0=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Q0=new TextEncoder,ef=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tf(e,t={}){const{strict:n=!1}=t;if(!e)throw new $a(e);if(typeof e!="string")throw new $a(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ca(e);if(!e.startsWith("0x"))throw new Ca(e)}function ce(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Es(e){return e instanceof Uint8Array?fe(e):Array.isArray(e)?fe(new Uint8Array(e)):e}function Jo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(kn(n,t.size),Je(n,t.size)):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ef[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(kn(r,t.size),Xe(r,t.size)):r}function G(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const u=typeof e=="bigint"?"n":"";throw new ti({max:a?`${a}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Je(i,r):i}function Ps(e,t={}){return fe(Q0.encode(e),t)}function Je(e,t){return Ko(e,{dir:"left",size:t})}function Xe(e,t){return Ko(e,{dir:"right",size:t})}function Y(e,t,n,r={}){const{strict:s}=r;N0(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&M0(a,t,n),a}function ne(e){return Math.ceil((e.length-2)/2)}function Ba(e){return z0(e,{dir:"left"})}function Xo(e,t={}){const{signed:n}=t;t.size&&kn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,o=a>>1n;return r<=o?r:r-a-1n}function Qo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Xo(e,t))}function ei(e,t={}){const{strict:n=!1}=t;try{return tf(e,{strict:n}),!0}catch{return!1}}class ti extends L{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class $a extends L{constructor(t){super(`Value \`${typeof t=="object"?Rn(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ca extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class nf extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ni extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class rf extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function sf(e){return{address:e.address,amount:G(e.amount),index:G(e.index),validatorIndex:G(e.validatorIndex)}}function ri(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:G(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:G(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:G(e.gasLimit)},...typeof e.number=="bigint"&&{number:G(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:G(e.prevRandao)},...typeof e.time=="bigint"&&{time:G(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(sf)}}}const hn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Or=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],si=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ai=[...si,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],af=[...si,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ka=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ra=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],oi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Na=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],mm=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],bm=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],hm=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ym=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],gm=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],of="0x82ad56cb",ii="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",cf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",uf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Is="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Lr extends M{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ff extends M{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class df extends M{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ci extends M{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Nn extends M{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Qn="/docs/contract/encodeDeployData";function Mn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ao({docsPath:Qn});if(!("inputs"in s))throw new on({docsPath:Qn});if(!s.inputs||s.inputs.length===0)throw new on({docsPath:Qn});const a=lt(s.inputs,n);return he([r,a])}function ht({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Lr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Lr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ui(e,{docsPath:t,...n}){const r=(()=>{const s=Sn(e,n);return s instanceof Mt?e:s})();return new ko(r,{docsPath:t,...n})}function Ts(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const er=new Map;function As({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const f=i();o();const l=f.map(({args:p})=>p);l.length!==0&&e(l).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let d=0;d<f.length;d++){const{resolve:m}=f[d];m==null||m([p[d],p])}}).catch(p=>{for(let d=0;d<f.length;d++){const{reject:m}=f[d];m==null||m(p)}})},o=()=>er.delete(t),c=()=>i().map(({args:f})=>f),i=()=>er.get(t)||[],u=f=>er.set(t,[...i(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:p,reject:d}=Ts();return(n==null?void 0:n([...c(),f]))&&a(),i().length>0?(u({args:f,resolve:p,reject:d}),l):(u({args:f,resolve:p,reject:d}),setTimeout(a,r),l)}}}async function Lt(e,t){var N,q,S,R;const{account:n=e.account,authorizationList:r,batch:s=!!((N=e.batch)!=null&&N.multicall),blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:c,blobs:i,blockOverrides:u,code:f,data:l,factory:p,factoryData:d,gas:m,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,to:h,value:v,stateOverride:E,...P}=t,I=n?V(n):void 0;if(f&&(p||d))throw new M("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&h)throw new M("Cannot provide both `code` & `to` as parameters.");const A=f&&l,C=p&&d&&h&&l,T=A||C,k=A?fi({code:f,data:l}):C?mf({data:l,factory:p,factoryData:d,to:h}):l;try{Oe(t);const B=(typeof a=="bigint"?$(a):void 0)||o,z=u?ri(u):void 0,O=is(E),j=(R=(S=(q=e.chain)==null?void 0:q.formatters)==null?void 0:S.transactionRequest)==null?void 0:R.format,Q=(j||Fe)({...bt(P,{format:j}),accessList:c,account:I,authorizationList:r,blobs:i,data:k,gas:m,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:x,nonce:w,to:T?void 0:h,value:v},"call");if(s&&lf({request:Q})&&!O&&!z)try{return await pf(e,{...Q,blockNumber:a,blockTag:o})}catch(ee){if(!(ee instanceof ci)&&!(ee instanceof Lr))throw ee}const J=(()=>{const ee=[Q,B];return O&&z?[...ee,O,z]:O?[...ee,O]:z?[...ee,{},z]:ee})(),Z=await e.request({method:"eth_call",params:J});return Z==="0x"?{data:void 0}:{data:Z}}catch(_){const B=bf(_),{offchainLookup:z,offchainLookupSignature:O}=await ns(async()=>{const{offchainLookup:j,offchainLookupSignature:W}=await Promise.resolve().then(()=>wd);return{offchainLookup:j,offchainLookupSignature:W}},void 0);if(e.ccipRead!==!1&&(B==null?void 0:B.slice(0,10))===O&&h)return{data:await z(e,{data:B,to:h})};throw T&&(B==null?void 0:B.slice(0,10))==="0x101bb98d"?new f0({factory:p}):ui(_,{...t,account:I,chain:e.chain})}}function lf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(of)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function pf(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:c,to:i}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return ht({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new ci})(),l=(typeof a=="bigint"?$(a):void 0)||o,{schedule:p}=As({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(g){return g.reduce((x,{data:w})=>x+(w.length-2),0)>n*2},fn:async g=>{const y=g.map(h=>({allowFailure:!0,callData:h.data,target:h.to})),x=de({abi:hn,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:fi({code:Is,data:x})}:{to:u,data:x}},l]});return tt({abi:hn,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:d,success:m}]=await p({data:c,to:i});if(!m)throw new Tn({data:d});return d==="0x"?{data:void 0}:{data:d}}function fi(e){const{code:t,data:n}=e;return Mn({abi:Eo(["constructor(bytes, bytes)"]),bytecode:ii,args:[t,n]})}function mf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Mn({abi:Eo(["constructor(address, bytes, address, bytes)"]),bytecode:cf,args:[s,t,n,r]})}function bf(e){var n;if(!(e instanceof M))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function be(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,c=de({abi:n,args:s,functionName:a});try{const{data:i}=await F(e,Lt,"call")({...o,data:c,to:r});return tt({abi:n,args:s,functionName:a,data:i||"0x"})}catch(i){throw Ke(i,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function di(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...c}=t,i=c.account?V(c.account):e.account,u=de({abi:n,args:s,functionName:o});try{const{data:f}=await F(e,Lt,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...c,account:i}),l=tt({abi:n,args:s,functionName:o,data:f||"0x"}),p=n.filter(d=>"name"in d&&d.name===t.functionName);return{result:l,request:{abi:p,address:r,args:s,dataSuffix:a,functionName:o,...c,account:i}}}catch(f){throw Ke(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:i==null?void 0:i.address})}}const tr=new Map,Ma=new Map;let hf=0;function Ce(e,t,n){const r=++hf,s=()=>tr.get(e)||[],a=()=>{const f=s();tr.set(e,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(p=>p.id===r))return;const l=Ma.get(e);if(f.length===1&&l){const p=l();p instanceof Promise&&p.catch(()=>{})}a()},c=s();if(tr.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const i={};for(const f in t)i[f]=((...l)=>{var d,m;const p=s();if(p.length!==0)for(const b of p)(m=(d=b.fns)[f])==null||m.call(d,...l)});const u=n(i);return typeof u=="function"&&Ma.set(e,u),o}async function yn(e){return new Promise(t=>setTimeout(t,e))}function yt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:a}));const i=await(n==null?void 0:n(c))??r;await yn(i);const u=async()=>{s&&(await e({unpoll:a}),await yn(r),u())};u()})(),a}const yf=new Map,gf=new Map;function wf(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,yf),r=t(e,gf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function xf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=wf(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const vf=e=>`blockNumber.${e}`;async function qt(e,{cacheTime:t=e.cacheTime}={}){const n=await xf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:vf(e.uid),cacheTime:t});return BigInt(n)}async function zn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Ne(a));return!("abi"in t)||!t.abi?s:rs({abi:t.abi,logs:s,strict:n})}async function Fn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function li(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:c,onError:i,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:p}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=p??!1,y=X(["watchContractEvent",r,s,a,e.uid,o,l,g,c]);return Ce(y,{onLogs:u,onError:i},x=>{let w;c!==void 0&&(w=c-1n);let h,v=!1;const E=yt(async()=>{var P;if(!v){try{h=await F(e,as,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:g,fromBlock:c})}catch{}v=!0;return}try{let I;if(h)I=await F(e,zn,"getFilterChanges")({filter:h});else{const A=await F(e,qt,"getBlockNumber")({});w&&w<A?I=await F(e,ys,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:A,strict:g}):I=[],w=A}if(I.length===0)return;if(a)x.onLogs(I);else for(const A of I)x.onLogs([A])}catch(I){h&&I instanceof dn&&(v=!1),(P=x.onError)==null||P.call(x,I)}},{emitOnBegin:!0,interval:l});return async()=>{h&&await F(e,Fn,"uninstallFilter")({filter:h}),E()}})})():(()=>{const g=p??!1,y=X(["watchContractEvent",r,s,a,e.uid,o,l,g]);let x=!0,w=()=>x=!1;return Ce(y,{onLogs:u,onError:i},h=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),E=o?Bt({abi:n,eventName:o,args:s}):[],{unsubscribe:P}=await v.subscribe({params:["logs",{address:r,topics:E}],onData(I){var C;if(!x)return;const A=I.result;try{const{eventName:T,args:k}=oo({abi:n,data:A.data,topics:A.topics,strict:p}),N=Ne(A,{args:k,eventName:T});h.onLogs([N])}catch(T){let k,N;if(T instanceof io||T instanceof co){if(p)return;k=T.abiItem.name,N=(C=T.abiItem.inputs)==null?void 0:C.some(S=>!("name"in S&&S.name))}const q=Ne(A,{args:N?[]:{},eventName:k});h.onLogs([q])}},onError(I){var A;(A=h.onError)==null||A.call(h,I)}});w=P,x||w()}catch(v){i==null||i(v)}})(),()=>w()))})()}class Le extends M{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Ve extends M{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Ss({chain:e,currentChainId:t}){if(!e)throw new df;if(t!==e.id)throw new ff({chain:e,currentChainId:t})}function Bs(e,{docsPath:t,...n}){const r=(()=>{const s=Sn(e,n);return s instanceof Mt?e:s})();return new i0(r,{docsPath:t,...n})}async function $s(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const nr=new vn(128);async function _n(e,t){var x,w,h,v;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,type:m,value:b,...g}=t;if(typeof n>"u")throw new Le({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?V(n):null;try{Oe(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await An({authorization:a[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let P;r!==null&&(P=await F(e,et,"getChainId")({}),Ss({currentChainId:P,chain:r}));const I=(h=(w=(x=e.chain)==null?void 0:x.formatters)==null?void 0:w.transactionRequest)==null?void 0:h.format,C=(I||Fe)({...bt(g,{format:I}),accessList:s,account:y,authorizationList:a,blobs:o,chainId:P,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,to:E,type:m,value:b},"sendTransaction"),T=nr.get(e.uid),k=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:k,params:[C]},{retryCount:0})}catch(N){if(T===!1)throw N;const q=N;if(q.name==="InvalidInputRpcError"||q.name==="InvalidParamsRpcError"||q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(S=>(nr.set(e.uid,!0),S)).catch(S=>{const R=S;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(nr.set(e.uid,!1),q):R});throw q}}if((y==null?void 0:y.type)==="local"){const P=await F(e,zt,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:o,chain:r,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,nonceManager:y.nonceManager,parameters:[...ms,"sidecars"],type:m,value:b,...g,to:E}),I=(v=r==null?void 0:r.serializers)==null?void 0:v.transaction,A=await y.signTransaction(P,{serializer:I});return await F(e,$s,"sendRawTransaction")({serializedTransaction:A})}throw(y==null?void 0:y.type)==="smart"?new Ve({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ve({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(E){throw E instanceof Ve?E:Bs(E,{...t,account:y,chain:t.chain||void 0})}}async function ft(e,t){return ft.internal(e,_n,"sendTransaction",t)}(function(e){async function t(n,r,s,a){const{abi:o,account:c=n.account,address:i,args:u,dataSuffix:f,functionName:l,...p}=a;if(typeof c>"u")throw new Le({docsPath:"/docs/contract/writeContract"});const d=c?V(c):null,m=de({abi:o,args:u,functionName:l});try{return await F(n,r,s)({data:`${m}${f?f.replace("0x",""):""}`,to:i,account:d,...p})}catch(b){throw Ke(b,{abi:o,address:i,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:d==null?void 0:d.address})}}e.internal=t})(ft||(ft={}));function wm({abi:e,address:t,client:n}){const r=n,[s,a]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,c=a!=null,i={};let u=!1,f=!1,l=!1;for(const p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?u=!0:f=!0:p.type==="event"&&(l=!0),u&&f&&l)break;return o&&(u&&(i.read=new Proxy({},{get(p,d){return(...m)=>{const{args:b,options:g}=Kt(m);return F(s,be,"readContract")({abi:e,address:t,functionName:d,args:b,...g})}}})),f&&(i.simulate=new Proxy({},{get(p,d){return(...m)=>{const{args:b,options:g}=Kt(m);return F(s,di,"simulateContract")({abi:e,address:t,functionName:d,args:b,...g})}}})),l&&(i.createEventFilter=new Proxy({},{get(p,d){return(...m)=>{const b=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:y}=rr(m,b);return F(s,as,"createContractEventFilter")({abi:e,address:t,eventName:d,args:g,...y})}}}),i.getEvents=new Proxy({},{get(p,d){return(...m)=>{const b=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:y}=rr(m,b);return F(s,ys,"getContractEvents")({abi:e,address:t,eventName:d,args:g,...y})}}}),i.watchEvent=new Proxy({},{get(p,d){return(...m)=>{const b=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:y}=rr(m,b);return F(s,li,"watchContractEvent")({abi:e,address:t,eventName:d,args:g,...y})}}}))),c&&f&&(i.write=new Proxy({},{get(p,d){return(...m)=>{const{args:b,options:g}=Kt(m);return F(a,ft,"writeContract")({abi:e,address:t,functionName:d,args:b,...g})}}})),(o||c)&&f&&(i.estimateGas=new Proxy({},{get(p,d){return(...m)=>{const{args:b,options:g}=Kt(m);return F(s??a,jo,"estimateContractGas")({abi:e,address:t,functionName:d,args:b,...g,account:g.account??a.account})}}})),i.address=t,i.abi=e,i}function Kt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function rr(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class Ef extends M{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function gn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:c=0}={})=>{const i=async({error:u})=>{const f=typeof t=="function"?t({count:c,error:u}):t;f&&await yn(f),o({count:c+1})};try{const u=await e();s(u)}catch(u){if(c<n&&await r({count:c,error:u}))return i({error:u});a(u)}};o()})}const pi="0x5792579257925792579257925792579257925792579257925792579257925792",mi=$(0,{size:32});async function bi(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:c=!1,id:i,version:u="2.0.0"}=t,f=n?V(n):null,l=t.calls.map(p=>{const d=p,m=d.abi?de({abi:d.abi,functionName:d.functionName,args:d.args}):d.data;return{data:d.dataSuffix&&m?We([m,d.dataSuffix]):m,to:d.to,value:d.value?$(d.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:l,capabilities:r,chainId:$(s.id),from:f==null?void 0:f.address,id:i,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const d=p;if(a&&(d.name==="MethodNotFoundRpcError"||d.name==="MethodNotSupportedRpcError"||d.name==="UnknownRpcError"||d.details.toLowerCase().includes("does not exist / is not available")||d.details.toLowerCase().includes("missing or invalid. request()")||d.details.toLowerCase().includes("did not match any variant of untagged enum")||d.details.toLowerCase().includes("account upgraded to unsupported contract")||d.details.toLowerCase().includes("eip-7702 not supported")||d.details.toLowerCase().includes("unsupported wc_ method")||d.details.toLowerCase().includes("feature toggled misconfigured")||d.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new wr(new M(x,{details:x}))}if(c&&l.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new xr(new M(y,{details:y}))}const m=[];for(const y of l){const x=_n(e,{account:f,chain:s,data:y.data,to:y.to,value:y.value?D(y.value):void 0});m.push(x),o>0&&await new Promise(w=>setTimeout(w,o))}const b=await Promise.allSettled(m);if(b.every(y=>y.status==="rejected"))throw b[0].reason;const g=b.map(y=>y.status==="fulfilled"?y.value:mi);return{id:We([...g,$(s.id,{size:32}),pi])}}throw Bs(p,{...t,account:f,chain:t.chain})}}async function hi(e,t){async function n(f){if(f.endsWith(pi.slice(2))){const p=Ze(cn(f,-64,-32)),d=cn(f,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(d.map(g=>mi.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),b=m.some(g=>g===null)?100:m.every(g=>(g==null?void 0:g.status)==="0x1")?200:m.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:H(p),receipts:m.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...c}=await n(t.id),[i,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?H(s):void 0,receipts:(a==null?void 0:a.map(f=>({...f,blockNumber:D(f.blockNumber),gasUsed:D(f.gasUsed),status:Cc[f.status]})))??[],statusCode:u,status:i,version:o}}async function yi(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:a=4,retryDelay:o=({count:b})=>~~(1<<b)*200,timeout:c=6e4,throwOnFailure:i=!1}=t,u=X(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:l,reject:p}=Ts();let d;const m=Ce(u,{resolve:l,reject:p},b=>{const g=yt(async()=>{const y=x=>{clearTimeout(d),g(),x(),m()};try{const x=await gn(async()=>{const w=await F(e,hi,"getCallsStatus")({id:n});if(i&&w.status==="failure")throw new Ef(w);return w},{retryCount:a,delay:o});if(!s(x))return;y(()=>b.resolve(x))}catch(x){y(()=>b.reject(x))}},{interval:r,emitOnBegin:!0});return g});return d=c?setTimeout(()=>{m(),clearTimeout(d),p(new Pf({id:n}))},c):void 0,await f}class Pf extends M{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const qr=256;let Yt=qr,Jt;function gi(e=11){if(!Jt||Yt+e>qr*2){Jt="",Yt=0;for(let t=0;t<qr;t++)Jt+=(256+Math.random()*256|0).toString(16).substring(1)}return Jt.substring(Yt,Yt+++e)}function Cs(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),i=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(i/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,p=e.account?V(e.account):void 0,{config:d,request:m,value:b}=e.transport({chain:n,pollingInterval:f}),g={...d,...b},y={account:p,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:f,request:m,transport:g,type:o,uid:gi(),...c?{experimental_blockTag:c}:{}};function x(w){return h=>{const v=h(w);for(const P in y)delete v[P];const E={...w,...v};return Object.assign(E,{extend:x(E)})}}return Object.assign(y,{extend:x(y)})}function xm(){return null}function ks(e){var n,r,s,a,o,c;if(!(e instanceof M))return!1;const t=e.walk(i=>i instanceof Sr);return t instanceof Sr?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=t.data)==null?void 0:a.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function If(e){const{abi:t,data:n}=e,r=un(n,0,4),s=t.find(a=>a.type==="function"&&r===es($t(a)));if(!s)throw new kc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?xn(s.inputs,un(n,4)):void 0}}const sr="/docs/contract/encodeErrorResult";function za(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const i=dt({abi:t,args:r,name:n});if(!i)throw new Zs(n,{docsPath:sr});s=i}if(s.type!=="error")throw new Zs(void 0,{docsPath:sr});const a=$t(s),o=es(a);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new Rc(s.name,{docsPath:sr});c=lt(s.inputs,r)}return he([o,c])}const ar="/docs/contract/encodeFunctionResult";function Tf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=dt({abi:t,name:n});if(!o)throw new ut(n,{docsPath:ar});s=o}if(s.type!=="function")throw new ut(void 0,{docsPath:ar});if(!s.outputs)throw new so(s.name,{docsPath:ar});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Nc(r)})();return lt(s.outputs,a)}const Ut="x-batch-gateway:true";async function wi(e){const{data:t,ccipRequest:n}=e,{args:[r]}=If({abi:Or,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,c)=>{try{a[c]=o.urls.includes(Ut)?await wi({data:o.data,ccipRequest:n}):await n(o),s[c]=!1}catch(i){s[c]=!0,a[c]=Af(i)}})),Tf({abi:Or,functionName:"query",result:[s,a]})}function Af(e){return e.name==="HttpRequestError"&&e.status?za({abi:Or,errorName:"HttpError",args:[e.status,e.shortMessage]}):za({abi:[Mc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ur(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=zc(n[r]),a=s?Re(s):Be(en(n[r]),"bytes");t=Be(We([t,a]),"bytes")}return ie(t)}function Sf(e){return`[${e.slice(2)}]`}function Rs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(en(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=en(s[a]);o.byteLength>255&&(o=en(Sf(Fc(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Bf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return ht({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(p=>a.endsWith(p)))return null;const l=s!=null?[Ur(a),BigInt(s)]:[Ur(a)];try{const p=de({abi:Ra,functionName:"addr",args:l}),d={address:u,abi:ai,functionName:"resolveWithGateways",args:[$e(Rs(a)),p,o??[Ut]],blockNumber:n,blockTag:r},b=await F(e,be,"readContract")(d);if(b[0]==="0x")return null;const g=tt({abi:Ra,args:l,functionName:"addr",data:b[0]});return g==="0x"||Ze(g)==="0x00"?null:g}catch(p){if(c)throw p;if(ks(p))return null;throw p}}class $f extends M{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Et extends M{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ns extends M{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Cf extends M{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class kf extends M{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const Rf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Nf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Mf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,zf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ff(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Fa(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function xi({uri:e,gatewayUrls:t}){const n=Mf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Fa(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Fa(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Rf),{protocol:o,subpath:c,target:i,subtarget:u=""}=(a==null?void 0:a.groups)||{},f=o==="ipns:/"||c==="ipns/",l=o==="ipfs:/"||c==="ipfs/"||Nf.test(e);if(e.startsWith("http")&&!f&&!l){let d=e;return t!=null&&t.arweave&&(d=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:d,isOnChain:!1,isEncoded:!1}}if((f||l)&&i)return{uri:`${r}/${f?"ipns":"ipfs"}/${i}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&i)return{uri:`${s}/${i}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(zf,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Ns({uri:e})}function vi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new $f({data:e});return e.image||e.image_url||e.image_data}async function _f({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ms({gatewayUrls:e,uri:vi(n)})}catch{throw new Ns({uri:t})}}async function Ms({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=xi({uri:t,gatewayUrls:e});if(r||await Ff(n))return n;throw new Ns({uri:t})}function Of(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[c,i]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Et({reason:"Only EIP-155 supported"});if(!o)throw new Et({reason:"Chain ID not found"});if(!i)throw new Et({reason:"Contract address not found"});if(!s)throw new Et({reason:"Token ID not found"});if(!c)throw new Et({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:c.toLowerCase(),contractAddress:i,tokenID:s}}async function Lf(e,{nft:t}){if(t.namespace==="erc721")return be(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return be(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Cf({namespace:t.namespace})}async function qf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Uf(e,{gatewayUrls:t,record:n}):Ms({uri:n,gatewayUrls:t})}async function Uf(e,{gatewayUrls:t,record:n}){const r=Of(n),s=await Lf(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:c}=xi({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=c?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return Ms({uri:vi(f),gatewayUrls:t})}let i=r.tokenID;return r.namespace==="erc1155"&&(i=i.replace("0x","").padStart(64,"0")),_f({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,i)})}async function Ei(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return ht({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(l=>a.endsWith(l)))return null;try{const l={address:u,abi:ai,args:[$e(Rs(a)),de({abi:ka,functionName:"text",args:[Ur(a),s]}),o??[Ut]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},d=await F(e,be,"readContract")(l);if(d[0]==="0x")return null;const m=tt({abi:ka,functionName:"text",data:d[0]});return m===""?null:m}catch(l){if(c)throw l;if(ks(l))return null;throw l}}async function jf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:c}){const i=await F(e,Ei,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:a,strict:o});if(!i)return null;try{return await qf(e,{record:i,gatewayUrls:r})}catch{return null}}async function Df(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return ht({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:af,args:[n,a,o??[Ut]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=F(e,be,"readContract"),[p]=await l(f);return p||null}catch(f){if(c)throw f;if(ks(f))return null;throw f}}async function Gf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return ht({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),c=a==null?void 0:a.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[i]=await F(e,be,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$e(Rs(s))],blockNumber:n,blockTag:r});return i}async function Pi(e,t){var g,y,x;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d,...m}=t,b=n?V(n):void 0;try{Oe(t);const h=(typeof r=="bigint"?$(r):void 0)||s,v=(x=(y=(g=e.chain)==null?void 0:g.formatters)==null?void 0:y.transactionRequest)==null?void 0:x.format,P=(v||Fe)({...bt(m,{format:v}),account:b,blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d},"createAccessList"),I=await e.request({method:"eth_createAccessList",params:[P,h]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(w){throw ui(w,{...t,account:b,chain:e.chain})}}async function Hf(e){const t=In(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ii(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:c}={}){const i=s??(r?[r]:void 0),u=In(e,{method:"eth_newFilter"});let f=[];i&&(f=[i.flatMap(d=>Bt({abi:[d],eventName:d.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?$(a):a,toBlock:typeof c=="bigint"?$(c):c,...f.length?{topics:f}:{}}]});return{abi:i,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:!!o,toBlock:c,type:"event"}}async function Ti(e){const t=In(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Vf(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?$(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Wf(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Zf(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?$(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),H(a)}async function jr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?$(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class Kf extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Yf(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,c,i,u,f,l]=await F(e,be,"readContract")({abi:Jf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(i),verifyingContract:u,salt:f},extensions:l,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Kf({address:n}):o}}const Jf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Xf(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Qf(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?$(n):void 0,o=await e.request({method:"eth_feeHistory",params:[$(t),a||r,s]},{dedupe:!!a});return Xf(o)}async function ed(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Ne(a));return t.abi?rs({abi:t.abi,logs:s,strict:n}):s}function vm(e,t){if(e.length!==t.length)throw new _c({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Ai(s,a))}return he(n)}function Ai(e,t,n=!1){if(e==="address"){const o=t;if(!ye(o))throw new ve({address:o});return tn(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Pt(t);if(e==="bytes")return t;if(e==="bool")return tn(Oc(t),{size:n?32:1});const r=e.match(Lc);if(r){const[o,c,i="256"]=r,u=Number.parseInt(i,10)/8;return $(t,{size:n?32:u,signed:c==="int"})}const s=e.match(qc);if(s){const[o,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new Uc({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return tn(t,{dir:"right",size:n?32:null})}const a=e.match(jc);if(a&&Array.isArray(t)){const[o,c]=a,i=[];for(let u=0;u<t.length;u++)i.push(Ai(c,t[u],!0));return i.length===0?"0x":he(i)}throw new Dc(e)}function _a(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Em(e){return e.opcode==="CREATE2"?nd(e):td(e)}function td(e){const t=Re(Ee(e.from));let n=Re(e.nonce);return n[0]===0&&(n=new Uint8Array([])),Ee(`0x${Be(Me([t,n],"bytes")).slice(26)}`)}function nd(e){const t=Re(Ee(e.from)),n=tn(_a(e.salt)?e.salt:Re(e.salt),{size:32}),r="bytecodeHash"in e?_a(e.bytecodeHash)?e.bytecodeHash:Re(e.bytecodeHash):Be(e.bytecode,"bytes");return Ee(un(Be(We([Re("0xff"),t,n,r])),12))}function Si(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ye(s))throw new ve({address:s});if(r<0)throw new Nn({chainId:r})}On(e)}function Bi(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new qo;for(const n of t){const r=Ct(n),s=H(un(n,0,1));if(r!==32)throw new P0({hash:n,size:r});if(s!==Lo)throw new I0({hash:n,version:s})}}On(e)}function On(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Nn({chainId:t});if(s&&!ye(s))throw new ve({address:s});if(r&&r>En)throw new Ye({maxFeePerGas:r});if(n&&r&&n>r)throw new It({maxFeePerGas:r,maxPriorityFeePerGas:n})}function $i(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new Nn({chainId:t});if(a&&!ye(a))throw new ve({address:a});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>En)throw new Ye({maxFeePerGas:r})}function Ci(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!ye(a))throw new ve({address:a});if(typeof t<"u"&&t<=0)throw new Nn({chainId:t});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>En)throw new Ye({maxFeePerGas:r})}function Ln(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new o0({storageKey:s[a]});if(!ye(r,{strict:!1}))throw new ve({address:r});t.push([r,s])}return t}function rd(e,t){const n=Uo(e);return n==="eip1559"?od(e,t):n==="eip2930"?id(e,t):n==="eip4844"?ad(e,t):n==="eip7702"?sd(e,t):cd(e,t)}function sd(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:o,value:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Si(e);const p=Ln(f),d=ud(n);return he(["0x04",Me([$(r),a?$(a):"0x",u?$(u):"0x",i?$(i):"0x",s?$(s):"0x",o??"0x",c?$(c):"0x",l??"0x",p,d,...jt(e,t)])])}function ad(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerBlobGas:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Bi(e);let p=e.blobVersionedHashes,d=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof d>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>ie(E)),h=e.kzg,v=fs({blobs:w,kzg:h});if(typeof p>"u"&&(p=Fo({commitments:v})),typeof d>"u"){const E=ds({blobs:w,commitments:v,kzg:h});d=ps({blobs:w,commitments:v,proofs:E})}}const m=Ln(f),b=[$(n),s?$(s):"0x",u?$(u):"0x",i?$(i):"0x",r?$(r):"0x",a??"0x",o?$(o):"0x",l??"0x",m,c?$(c):"0x",p??[],...jt(e,t)],g=[],y=[],x=[];if(d)for(let w=0;w<d.length;w++){const{blob:h,commitment:v,proof:E}=d[w];g.push(h),y.push(v),x.push(E)}return he(["0x03",d?Me([b,g,y,x]):Me(b)])}function od(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerGas:c,maxPriorityFeePerGas:i,accessList:u,data:f}=e;On(e);const l=Ln(u),p=[$(n),s?$(s):"0x",i?$(i):"0x",c?$(c):"0x",r?$(r):"0x",a??"0x",o?$(o):"0x",f??"0x",l,...jt(e,t)];return he(["0x02",Me(p)])}function id(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:o,value:c,accessList:i,gasPrice:u}=e;$i(e);const f=Ln(i),l=[$(n),a?$(a):"0x",u?$(u):"0x",r?$(r):"0x",o??"0x",c?$(c):"0x",s??"0x",f,...jt(e,t)];return he(["0x01",Me(l)])}function cd(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:o,value:c,gasPrice:i}=e;Ci(e);let u=[a?$(a):"0x",i?$(i):"0x",r?$(r):"0x",o??"0x",c?$(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new So({v:t.v});return d})(),l=Ze(t.r),p=Ze(t.s);u=[...u,$(f),l==="0x00"?"0x":l,p==="0x00"?"0x":p]}else n>0&&(u=[...u,$(n),"0x","0x"]);return Me(u)}function jt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=Ze(n.r),o=Ze(n.s);return[typeof s=="number"?s?$(1):"0x":r===0n?"0x":r===1n?$(1):r===27n?"0x":$(1),a==="0x00"?"0x":a,o==="0x00"?"0x":o]}function ud(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,o=n.address;t.push([r?$e(r):"0x",o,s?$e(s):"0x",...jt({},a)])}return t}async function fd({address:e,authorization:t,signature:n}){return _e(Ee(e),await An({authorization:t,signature:n}))}const Xt=new vn(8192);function dd(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Xt.get(n))return Xt.get(n);const r=e().finally(()=>Xt.delete(n));return Xt.set(n,r),r}function ld(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:c=3,uid:i}={...t,...r},{method:u}=n;if((l=a==null?void 0:a.exclude)!=null&&l.includes(u))throw new Vt(new Error("method not supported"),{method:u});if(a!=null&&a.include&&!a.include.includes(u))throw new Vt(new Error("method not supported"),{method:u});const f=s?Pt(`${i}.${X(n)}`):void 0;return dd(()=>gn(async()=>{try{return await e(n)}catch(p){const d=p;switch(d.code){case pa.code:throw new pa(d);case la.code:throw new la(d);case da.code:throw new da(d,{method:n.method});case fa.code:throw new fa(d);case fn.code:throw new fn(d);case dn.code:throw new dn(d);case ua.code:throw new ua(d);case ca.code:throw new ca(d);case Er.code:throw new Er(d);case Vt.code:throw new Vt(d,{method:n.method});case vr.code:throw new vr(d);case ia.code:throw new ia(d);case nn.code:throw new nn(d);case oa.code:throw new oa(d);case aa.code:throw new aa(d);case sa.code:throw new sa(d);case ra.code:throw new ra(d);case na.code:throw new na(d);case wr.code:throw new wr(d);case ta.code:throw new ta(d);case ea.code:throw new ea(d);case Qs.code:throw new Qs(d);case Xs.code:throw new Xs(d);case Js.code:throw new Js(d);case xr.code:throw new xr(d);case 5e3:throw new nn(d);default:throw p instanceof M?p:new iu(d)}}},{delay:({count:p,error:d})=>{var m;if(d&&d instanceof Ge){const b=(m=d==null?void 0:d.headers)==null?void 0:m.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<p)*o},retryCount:c,shouldRetry:({error:p})=>pd(p)}),{enabled:s,id:f})}}function pd(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===vr.code||e.code===fn.code:e instanceof Ge&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class md extends M{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){var c;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(c=n.metaMessages)!=null&&c.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(i=>`    ${po(i)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class bd extends M{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${po(n)}`,`Response: ${X(t)}`],name:"OffchainLookupResponseMalformedError"})}}class hd extends M{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const yd="0x556f1830",ki={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function gd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=to({data:r,abi:[ki]}),[o,c,i,u,f]=a,{ccipRead:l}=e,p=l&&typeof(l==null?void 0:l.request)=="function"?l.request:Ri;try{if(!_e(s,o))throw new hd({sender:o,to:s});const d=c.includes(Ut)?await wi({data:i,ccipRequest:p}):await p({data:i,sender:o,urls:c}),{data:m}=await Lt(e,{blockNumber:t,blockTag:n,data:We([u,lt([{type:"bytes"},{type:"bytes"}],[d,f])]),to:s});return m}catch(d){throw new md({callbackSelector:u,cause:d,data:r,extraData:f,sender:o,urls:c})}}async function Ri({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],c=o.includes("{data}")?"GET":"POST",i=c==="POST"?{data:e,sender:t}:void 0,u=c==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(i),headers:u,method:c});let l;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await f.json()).data:l=await f.text(),!f.ok){r=new Ge({body:i,details:l!=null&&l.error?X(l.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!U(l)){r=new bd({result:l,url:o});continue}return l}catch(f){r=new Ge({body:i,details:f.message,url:o})}}throw r}const wd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ri,offchainLookup:gd,offchainLookupAbiItem:ki,offchainLookupSignature:yd},Symbol.toStringTag,{value:"Module"}));function Pm({chains:e,id:t}){return e.find(n=>n.id===t)}function Ni(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Gc(e);return me(e)}return e})(),r=an(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Mi(r,t)}function Mi(e,t="hex"){if(e.bytes.length===0)return t==="hex"?ie(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Oa(e,n,128),a=e.readBytes(s);return t==="hex"?ie(a):a}const r=Oa(e,n,192);return xd(e,r,t)}function Oa(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new M("Invalid RLP prefix")}function xd(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(Mi(e,n));return s}function vd(e){return U(e)&&Ct(e)===32}const Ed=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),zi=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Pd=zi.map(e=>(9*e+5)%16),Fi=(()=>{const n=[[zi],[Pd]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(a=>Ed[a]));return n})(),_i=Fi[0],Oi=Fi[1],Li=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Id=_i.map((e,t)=>e.map(n=>Li[t][n])),Td=Oi.map((e,t)=>e.map(n=>Li[t][n])),Ad=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Sd=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function La(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Qt=new Uint32Array(16);class Bd extends uu{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let d=0;d<16;d++,n+=4)Qt[d]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,c=this.h2|0,i=c,u=this.h3|0,f=u,l=this.h4|0,p=l;for(let d=0;d<5;d++){const m=4-d,b=Ad[d],g=Sd[d],y=_i[d],x=Oi[d],w=Id[d],h=Td[d];for(let v=0;v<16;v++){const E=Ht(r+La(d,a,c,u)+Qt[y[v]]+b,w[v])+l|0;r=l,l=u,u=Ht(c,10)|0,c=a,a=E}for(let v=0;v<16;v++){const E=Ht(s+La(m,o,i,f)+Qt[x[v]]+g,h[v])+p|0;s=p,p=f,f=Ht(i,10)|0,i=o,o=E}}this.set(this.h1+c+f|0,this.h2+u+p|0,this.h3+l+s|0,this.h4+r+o|0,this.h0+a+i|0)}roundClean(){yr(Qt)}destroy(){this.destroyed=!0,yr(this.buffer),this.set(0,0,0,0,0)}}const $d=Hc(()=>new Bd),Cd=$d;function Im(e,t){const n=t||"hex",r=Cd(U(e,{strict:!1})?Re(e):e);return n==="bytes"?r:$e(r)}function kd(e){const{source:t}=e,n=new Map,r=new vn(8192),s=new Map,a=({address:o,chainId:c})=>`${o}.${c}`;return{async consume({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c}),f=this.get({address:o,chainId:c,client:i});this.increment({address:o,chainId:c});const l=await f;return await t.set({address:o,chainId:c},l),r.set(u,l),l},async increment({address:o,chainId:c}){const i=a({address:o,chainId:c}),u=n.get(i)??0;n.set(i,u+1)},async get({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const p=await t.get({address:o,chainId:c,client:i}),d=r.get(u)??0;return d>0&&p<=d?d+1:(r.delete(u),p)}finally{this.reset({address:o,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:c}){const i=a({address:o,chainId:c});n.delete(i),s.delete(i)}}}function Rd(){return{async get(e){const{address:t,client:n}=e;return Bn(n,{address:t,blockTag:"pending"})},set(){}}}const Tm=kd({source:Rd()});function Nd(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Dr=Nd();function Md(e,t={}){return{async request(n){var p;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:c=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=i;try{const d=await uo(async({signal:b})=>{const g={...i,body:Array.isArray(r)?X(r.map(h=>({jsonrpc:"2.0",id:h.id??Dr.take(),...h}))):X({jsonrpc:"2.0",id:r.id??Dr.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(c>0?b:null)},y=new Request(e,g),x=await(a==null?void 0:a(y,g))??{...g,url:e};return await s(x.url??e,x)},{errorInstance:new Pr({body:r,url:e}),timeout:c,signal:!0});o&&await o(d);let m;if((p=d.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))m=await d.json();else{m=await d.text();try{m=JSON.parse(m||"{}")}catch(b){if(d.ok)throw b;m={error:m}}}if(!d.ok)throw new Ge({body:r,details:X(m.error)||d.statusText,headers:d.headers,status:d.status,url:e});return m}catch(d){throw d instanceof Ge||d instanceof Pr?d:new Ge({body:r,cause:d,url:e})}}}}const or=new Map;async function zd(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:a}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:i=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:a,reconnect:s});let f=or.get(u);if(f)return f;let l=0;const{schedule:p}=As({id:u,fn:async()=>{const b=new Map,g=new Map;let y,x,w,h=!1;function v(){if(s&&l<c){if(h)return;h=!0,l++,x==null||x.close(),setTimeout(async()=>{await E().catch(console.error),h=!1},i)}else b.clear(),g.clear()}async function E(){const P=await t({onClose(){var I,A;for(const C of b.values())(I=C.onError)==null||I.call(C,new ln({url:a}));for(const C of g.values())(A=C.onError)==null||A.call(C,new ln({url:a}));v()},onError(I){var A,C;y=I;for(const T of b.values())(A=T.onError)==null||A.call(T,y);for(const T of g.values())(C=T.onError)==null||C.call(T,y);v()},onOpen(){y=void 0,l=0},onResponse(I){const A=I.method==="eth_subscription",C=A?I.params.subscription:I.id,T=A?g:b,k=T.get(C);k&&k.onResponse(I),A||T.delete(C)}});if(x=P,n&&(w&&clearInterval(w),w=setInterval(()=>{var I;return(I=x.ping)==null?void 0:I.call(x)},o)),s&&g.size>0){const I=g.entries();for(const[A,{onResponse:C,body:T,onError:k}]of I)T&&(g.delete(A),f==null||f.request({body:T,onResponse:C,onError:k}))}return P}return await E(),y=void 0,f={close(){w&&clearInterval(w),x.close(),or.delete(u)},get socket(){return x},request({body:P,onError:I,onResponse:A}){y&&I&&I(y);const C=P.id??Dr.take(),T=k=>{var N;typeof k.id=="number"&&C!==k.id||(P.method==="eth_subscribe"&&typeof k.result=="string"&&g.set(k.result,{onResponse:T,onError:I,body:P}),P.method==="eth_unsubscribe"&&g.delete((N=P.params)==null?void 0:N[0]),A(k))};b.set(C,{onResponse:T,onError:I});try{x.request({body:{jsonrpc:"2.0",id:C,...P}})}catch(k){I==null||I(k)}},requestAsync({body:P,timeout:I=1e4}){return uo(()=>new Promise((A,C)=>this.request({body:P,onError:C,onResponse:A})),{errorInstance:new Pr({body:P,url:a}),timeout:I})},requests:b,subscriptions:g,url:a},or.set(u,f),[f]}}),[d,[m]]=await p();return m}async function rn(e,t={}){const{keepAlive:n,reconnect:r}=t;return zd({async getSocket({onClose:s,onError:a,onOpen:o,onResponse:c}){const i=await ns(()=>import("./native-CJ5et6AR.js"),[]).then(d=>d.WebSocket),u=new i(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",l),u.removeEventListener("error",a),u.removeEventListener("open",o),s()}function l({data:d}){if(!(typeof d=="string"&&d.trim().length===0))try{const m=JSON.parse(d);c(m)}catch(m){a(m)}}u.addEventListener("close",f),u.addEventListener("message",l),u.addEventListener("error",a),u.addEventListener("open",o),u.readyState===i.CONNECTING&&await new Promise((d,m)=>{u&&(u.onopen=d,u.onerror=m)});const{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ma({url:u.url,cause:new ln({url:u.url})});const d={jsonrpc:"2.0",id:null,method:"net_version",params:[]};u.send(JSON.stringify(d))}catch(d){a(d)}},request({body:d}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ma({body:d,url:u.url,cause:new ln({url:u.url})});return u.send(JSON.stringify(d))}})},keepAlive:n,reconnect:r,url:e})}async function Fd(e){const t=await rn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const _d=`Ethereum Signed Message:
`;function Od(e){const t=typeof e=="string"?Pt(e):typeof e.raw=="string"?e.raw:ie(e.raw),n=Pt(`${_d}${Ct(t)}`);return We([n,t])}function zs(e,t){return Be(Od(e),t)}const qi="0x6492649264926492649264926492649264926492649264926492649264926492",Am="0x0000000000000000000000000000000000000000000000000000000000000000";function Ld(e){return cn(e,-32)===qi}class qd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ud={checksum:new qd(8192)},ir=Ud.checksum;function qn(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Vc(q0(e));return n==="Bytes"?r:fe(r)}function Ui(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:a}=e;if(n===!1||typeof s=="bigint"&&typeof a=="bigint"){if(r!==4)throw new qa({prefix:r,cause:new Wd});return}if(n===!0||typeof s=="bigint"&&typeof a>"u"){if(r!==3&&r!==2)throw new qa({prefix:r,cause:new Vd});return}throw new Hd({publicKey:e})}function jd(e){const t=(()=>{if(ei(e))return ji(e);if(K0(e))return Dd(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return Ui(t),t}function Dd(e){return ji(fe(e))}function ji(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new Zd({publicKey:e});if(e.length===130){const r=BigInt(Y(e,0,32)),s=BigInt(Y(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(Y(e,0,1)),s=BigInt(Y(e,1,33)),a=BigInt(Y(e,33,65));return{prefix:r,x:s,y:a}}const t=Number(Y(e,0,1)),n=BigInt(Y(e,1,33));return{prefix:t,x:n}}function Gd(e,t={}){Ui(e);const{prefix:n,x:r,y:s}=e,{includePrefix:a=!0}=t;return ce(a?G(n,{size:1}):"0x",G(r,{size:32}),typeof s=="bigint"?G(s,{size:32}):"0x")}class Hd extends L{constructor({publicKey:t}){super(`Value \`${Rn(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class qa extends L{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Vd extends L{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Wd extends L{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Zd=class extends L{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ne(Es(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Kd=/^0x[a-fA-F0-9]{40}$/;function Dt(e,t={}){const{strict:n=!0}=t;if(!Kd.test(e))throw new Ua({address:e,cause:new Xd});if(n){if(e.toLowerCase()===e)return;if(Fs(e)!==e)throw new Ua({address:e,cause:new Qd})}}function Fs(e){if(ir.has(e))return ir.get(e);Dt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=qn(j0(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return ir.set(e,s),s}function Yd(e,t={}){const{checksum:n=!1}=t;return Dt(e),n?Fs(e):e}function Jd(e,t={}){const n=qn(`0x${Gd(e).slice(4)}`).substring(26);return Yd(`0x${n}`,t)}function Gr(e,t={}){const{strict:n=!0}=t??{};try{return Dt(e,{strict:n}),!0}catch{return!1}}class Ua extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Xd extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Qd extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const el=/^(.*)\[([0-9]*)\]$/,tl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Di=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ja=2n**256n-1n;function ct(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=Ls(t.type);if(a){const[o,c]=a;return rl(e,{...t,type:c},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return il(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return nl(e,{checksum:r});if(t.type==="bool")return sl(e);if(t.type.startsWith("bytes"))return al(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ol(e,t);if(t.type==="string")return cl(e,{staticPosition:s});throw new qs(t.type)}const Da=32,Hr=32;function nl(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?Fs(a):a)(fe(G0(r,-20))),32]}function rl(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const i=Se(e.readBytes(Hr)),u=a+i,f=u+Da;e.setPosition(u);const l=Se(e.readBytes(Da)),p=St(t);let d=0;const m=[];for(let b=0;b<l;++b){e.setPosition(f+(p?b*32:d));const[g,y]=ct(e,t,{checksumAddress:r,staticPosition:f});d+=y,m.push(g)}return e.setPosition(a+32),[m,32]}if(St(t)){const i=Se(e.readBytes(Hr)),u=a+i,f=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[p]=ct(e,t,{checksumAddress:r,staticPosition:u});f.push(p)}return e.setPosition(a+32),[f,32]}let o=0;const c=[];for(let i=0;i<s;++i){const[u,f]=ct(e,t,{checksumAddress:r,staticPosition:a+o});o+=f,c.push(u)}return[c,o]}function sl(e){return[V0(e.readBytes(32),{size:32}),32]}function al(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Se(e.readBytes(32));e.setPosition(n+o);const c=Se(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const i=e.readBytes(c);return e.setPosition(n+32),[fe(i),32]}return[fe(e.readBytes(Number.parseInt(s,10),32)),32]}function ol(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?H0(s,{signed:n}):Se(s,{signed:n}),32]}function il(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:i})=>!i),o=a?[]:{};let c=0;if(St(t)){const i=Se(e.readBytes(Hr)),u=s+i;for(let f=0;f<t.components.length;++f){const l=t.components[f];e.setPosition(u+c);const[p,d]=ct(e,l,{checksumAddress:r,staticPosition:u});c+=d,o[a?f:l==null?void 0:l.name]=p}return e.setPosition(s+32),[o,32]}for(let i=0;i<t.components.length;++i){const u=t.components[i],[f,l]=ct(e,u,{checksumAddress:r,staticPosition:s});o[a?i:u==null?void 0:u.name]=f,c+=l}return[o,c]}function cl(e,{staticPosition:t}){const n=Se(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Se(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=W0(Yo(a));return e.setPosition(t+32),[o,32]}function ul({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(_s({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function _s({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ls(r.type);if(s){const[a,o]=s;return dl(n,{checksumAddress:e,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return hl(n,{checksumAddress:e,parameter:r});if(r.type==="address")return fl(n,{checksum:e});if(r.type==="bool")return pl(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,o="256"]=Di.exec(r.type)??[];return ml(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return ll(n,{type:r.type});if(r.type==="string")return bl(n);throw new qs(r.type)}function Os(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?t+=32:t+=ne(c)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?(n.push(G(t+s,{size:32})),r.push(c),s+=ne(c)):n.push(c)}return ce(...n,...r)}function fl(e,t){const{checksum:n=!1}=t;return Dt(e,{strict:n}),{dynamic:!1,encoded:Je(e.toLowerCase())}}function dl(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new Il(e);if(!a&&e.length!==r)throw new Pl({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const c=[];for(let i=0;i<e.length;i++){const u=_s({checksumAddress:n,parameter:s,value:e[i]});u.dynamic&&(o=!0),c.push(u)}if(a||o){const i=Os(c);if(a){const u=G(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?ce(u,i):u}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ce(...c.map(({encoded:i})=>i))}}function ll(e,{type:t}){const[,n]=t.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Xe(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ce(Je(G(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Vi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Xe(e)}}function pl(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Je(Jo(e))}}function ml(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ti({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:G(e,{size:32,signed:t})}}function bl(e){const t=Ps(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Xe(Y(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ce(Xe(G(ne(t),{size:32})),...r)}}function hl(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const c=r.components[o],i=Array.isArray(e)?o:c.name,u=_s({checksumAddress:n,parameter:c,value:e[i]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Os(a):ce(...a.map(({encoded:o})=>o))}}function Ls(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function St(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(St);const n=Ls(e.type);return!!(n&&St({...e,type:n[1]}))}const yl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new wl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new gl({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ga({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ga({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Gi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(yl);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ga extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class gl extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class wl extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function xl(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?vs(t):t,o=Gi(a);if(at(a)===0&&e.length>0)throw new El;if(at(a)&&at(a)<32)throw new vl({data:typeof t=="string"?t:fe(t),parameters:e,size:at(a)});let c=0;const i=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(c);const[l,p]=ct(o,f,{checksumAddress:s,staticPosition:0});c+=p,r==="Array"?i.push(l):i[f.name??u]=l}return i}function Un(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Wi({expectedLength:e.length,givenLength:t.length});const s=ul({checksumAddress:r,parameters:e,values:t}),a=Os(s);return a.length===0?"0x":a}function Vr(e,t){if(e.length!==t.length)throw new Wi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Vr.encode(s,a))}return ce(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const i=r;return Dt(i),Je(i.toLowerCase(),s?32:0)}if(n==="string")return Ps(r);if(n==="bytes")return r;if(n==="bool")return Je(Jo(r),s?32:1);const a=n.match(Di);if(a){const[i,u,f="256"]=a,l=Number.parseInt(f,10)/8;return G(r,{size:s?32:l,signed:u==="int"})}const o=n.match(tl);if(o){const[i,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Vi({expectedSize:Number.parseInt(u,10),value:r});return Xe(r,s?32:0)}const c=n.match(el);if(c&&Array.isArray(r)){const[i,u]=c,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":ce(...f)}throw new qs(n)}e.encode=t})(Vr||(Vr={}));function Hi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ha(e):e}class vl extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wc(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class El extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Pl extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Vi extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Wi extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Il extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class qs extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Tl(e,t){const{as:n}=t,r=Zi(e),s=Gi(new Uint8Array(r.length));return r.encode(s),n==="Hex"?fe(s.bytes):s.bytes}function Al(e,t={}){const{as:n="Hex"}=t;return Tl(e,{as:n})}function Zi(e){return Array.isArray(e)?Sl(e.map(t=>Zi(t))):Bl(e)}function Sl(e){const t=e.reduce((s,a)=>s+a.length,0),n=Ki(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function Bl(e){const t=typeof e=="string"?vs(e):e,n=Ki(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Ki(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new L("Length is too large.")}class Yi extends Zc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Kc(t);const r=Yc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),yr(a)}update(t){return Ks(this),this.iHash.update(t),this}digestInto(t){Ks(this),Jc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ji=(e,t,n)=>new Yi(e,t).update(n).digest();Ji.create=(e,t)=>new Yi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ae=BigInt(0),te=BigInt(1),De=BigInt(2),$l=BigInt(3),Xi=BigInt(4),Qi=BigInt(5),ec=BigInt(8);function se(e,t){const n=e%t;return n>=ae?n:t+n}function le(e,t,n){let r=e;for(;t-- >ae;)r*=r,r%=n;return r}function Wr(e,t){if(e===ae)throw new Error("invert: expected non-zero number");if(t<=ae)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,s=ae,a=te;for(;n!==ae;){const c=r/n,i=r%n,u=s-a*c;r=n,n=i,s=a,a=u}if(r!==te)throw new Error("invert: does not exist");return se(s,t)}function tc(e,t){const n=(e.ORDER+te)/Xi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Cl(e,t){const n=(e.ORDER-Qi)/ec,r=e.mul(t,De),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,De),s),c=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function kl(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-te,n=0;for(;t%De===ae;)t/=De,n++;let r=De;const s=Us(e);for(;Ha(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return tc;let a=s.pow(r,t);const o=(t+te)/De;return function(i,u){if(i.is0(u))return u;if(Ha(i,u)!==1)throw new Error("Cannot find square root");let f=n,l=i.mul(i.ONE,a),p=i.pow(u,t),d=i.pow(u,o);for(;!i.eql(p,i.ONE);){if(i.is0(p))return i.ZERO;let m=1,b=i.sqr(p);for(;!i.eql(b,i.ONE);)if(m++,b=i.sqr(b),m===f)throw new Error("Cannot find square root");const g=te<<BigInt(f-m-1),y=i.pow(l,g);f=m,l=i.sqr(y),p=i.mul(p,l),d=i.mul(d,y)}return d}}function Rl(e){return e%Xi===$l?tc:e%ec===Qi?Cl:kl(e)}const Nl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ml(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Nl.reduce((r,s)=>(r[s]="function",r),t);return Cn(e,n)}function zl(e,t,n){if(n<ae)throw new Error("invalid exponent, negatives unsupported");if(n===ae)return e.ONE;if(n===te)return t;let r=e.ONE,s=t;for(;n>ae;)n&te&&(r=e.mul(r,s)),s=e.sqr(s),n>>=te;return r}function nc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,c,i)=>e.is0(c)?o:(r[i]=o,e.mul(o,c)),e.ONE),a=e.inv(s);return t.reduceRight((o,c,i)=>e.is0(c)?o:(r[i]=e.mul(o,r[i]),e.mul(o,c)),a),r}function Ha(e,t){const n=(e.ORDER-te)/De,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function rc(e,t){t!==void 0&&Xc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Us(e,t,n=!1,r={}){if(e<=ae)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=rc(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:$n(s),ZERO:ae,ONE:te,create:i=>se(i,e),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return ae<=i&&i<e},is0:i=>i===ae,isOdd:i=>(i&te)===te,neg:i=>se(-i,e),eql:(i,u)=>i===u,sqr:i=>se(i*i,e),add:(i,u)=>se(i+u,e),sub:(i,u)=>se(i-u,e),mul:(i,u)=>se(i*u,e),pow:(i,u)=>zl(c,i,u),div:(i,u)=>se(i*Wr(u,e),e),sqrN:i=>i*i,addN:(i,u)=>i+u,subN:(i,u)=>i-u,mulN:(i,u)=>i*u,inv:i=>Wr(i,e),sqrt:r.sqrt||(i=>(o||(o=Rl(e)),o(c,i))),toBytes:i=>n?Vo(i,a):_t(i,a),fromBytes:i=>{if(i.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+i.length);return n?Ho(i):He(i)},invertBatch:i=>nc(c,i),cmov:(i,u,f)=>f?u:i});return Object.freeze(c)}function sc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ac(e){const t=sc(e);return t+Math.ceil(t/2)}function Fl(e,t,n=!1){const r=e.length,s=sc(t),a=ac(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?Ho(e):He(e),c=se(o,t-te)+te;return n?Vo(c,s):_t(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Va=BigInt(0),Zr=BigInt(1);function cr(e,t){const n=t.negate();return e?n:t}function oc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ur(e,t){oc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=$n(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function Wa(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let c=Number(e&s),i=e>>o;c>r&&(c-=a,i+=Zr);const u=t*r,f=u+Math.abs(c)-1,l=c===0,p=c<0,d=t%2!==0;return{nextN:i,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:u}}function _l(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ol(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const fr=new WeakMap,ic=new WeakMap;function dr(e){return ic.get(e)||1}function Ll(e,t){return{constTimeNegate:cr,hasPrecomputes(n){return dr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Va;)r&Zr&&(s=s.add(a)),a=a.double(),r>>=Zr;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=ur(r,t),o=[];let c=n,i=c;for(let u=0;u<s;u++){i=c,o.push(i);for(let f=1;f<a;f++)i=i.add(c),o.push(i);c=i.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const c=ur(n,t);for(let i=0;i<c.windows;i++){const{nextN:u,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:m}=Wa(s,i,c);s=u,l?o=o.add(cr(d,r[m])):a=a.add(cr(p,r[f]))}return{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=ur(n,t);for(let c=0;c<o.windows&&s!==Va;c++){const{nextN:i,offset:u,isZero:f,isNeg:l}=Wa(s,c,o);if(s=i,!f){const p=r[u];a=a.add(l?p.negate():p)}}return a},getPrecomputes(n,r,s){let a=fr.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&fr.set(r,s(a))),a},wNAFCached(n,r,s){const a=dr(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=dr(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){oc(r,t),ic.set(n,r),fr.delete(n)}}}function ql(e,t,n,r){_l(n,e),Ol(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,c=S0(BigInt(s));let i=1;c>12?i=c-3:c>4?i=c-2:c>0&&(i=2);const u=$n(i),f=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/i)*i;let p=o;for(let d=l;d>=0;d-=i){f.fill(o);for(let b=0;b<a;b++){const g=r[b],y=Number(g>>BigInt(d)&u);f[y]=f[y].add(n[b])}let m=o;for(let b=f.length-1,g=o;b>0;b--)g=g.add(f[b]),m=m.add(g);if(p=p.add(m),d!==0)for(let b=0;b<i;b++)p=p.double()}return p}function cc(e){return Ml(e.Fp),Cn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Za(e){e.lowS!==void 0&&Tt("lowS",e.lowS),e.prehash!==void 0&&Tt("prehash",e.prehash)}function Ul(e){const t=cc(e);Cn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class jl extends Error{constructor(t=""){super(t)}}const Te={Err:jl,_tlv:{encode:(e,t)=>{const{Err:n}=Te;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Wt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Wt(s.length/2|128):"";return Wt(e)+a+s+t},decode(e,t){const{Err:n}=Te;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const i=s&127;if(!i)throw new n("tlv.decode(long): indefinite length not supported");if(i>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+i);if(u.length!==i)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=i,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Te;if(e<Ae)throw new t("integer: negative integers are not allowed");let n=Wt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Te;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return He(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Te,s=pe("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:i}=r.decode(2,a),{v:u,l:f}=r.decode(2,i);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Te,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function lr(e,t){return At(_t(e,t))}const Ae=BigInt(0),K=BigInt(1);BigInt(2);const pr=BigInt(3),Dl=BigInt(4);function Gl(e){const t=Ul(e),{Fp:n}=t,r=Us(t.n,t.nBitLength),s=t.toBytes||((w,h,v)=>{const E=h.toAffine();return bn(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),a=t.fromBytes||(w=>{const h=w.subarray(1),v=n.fromBytes(h.subarray(0,n.BYTES)),E=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:v,y:E}});function o(w){const{a:h,b:v}=t,E=n.sqr(w),P=n.mul(E,w);return n.add(n.add(P,n.mul(w,h)),v)}function c(w,h){const v=n.sqr(h),E=o(w);return n.eql(v,E)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const i=n.mul(n.pow(t.a,pr),Dl),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(i,u)))throw new Error("bad curve params: a or b");function f(w){return xs(w,K,t.n)}function l(w){const{allowedPrivateKeyLengths:h,nByteLength:v,wrapPrivateKey:E,n:P}=t;if(h&&typeof w!="bigint"){if(Ft(w)&&(w=At(w)),typeof w!="string"||!h.includes(w.length))throw new Error("invalid private key");w=w.padStart(v*2,"0")}let I;try{I=typeof w=="bigint"?w:He(pe("private key",w,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof w)}return E&&(I=se(I,P)),it("private key",I,K,P),I}function p(w){if(!(w instanceof b))throw new Error("ProjectivePoint expected")}const d=Aa((w,h)=>{const{px:v,py:E,pz:P}=w;if(n.eql(P,n.ONE))return{x:v,y:E};const I=w.is0();h==null&&(h=I?n.ONE:n.inv(P));const A=n.mul(v,h),C=n.mul(E,h),T=n.mul(P,h);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:A,y:C}}),m=Aa(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:h,y:v}=w.toAffine();if(!n.isValid(h)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!c(h,v))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(h,v,E){if(h==null||!n.isValid(h))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=h,this.py=v,this.pz=E,Object.freeze(this)}static fromAffine(h){const{x:v,y:E}=h||{};if(!h||!n.isValid(v)||!n.isValid(E))throw new Error("invalid affine point");if(h instanceof b)throw new Error("projective point not allowed");const P=I=>n.eql(I,n.ZERO);return P(v)&&P(E)?b.ZERO:new b(v,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const v=nc(n,h.map(E=>E.pz));return h.map((E,P)=>E.toAffine(v[P])).map(b.fromAffine)}static fromHex(h){const v=b.fromAffine(a(pe("pointHex",h)));return v.assertValidity(),v}static fromPrivateKey(h){return b.BASE.multiply(l(h))}static msm(h,v){return ql(b,r,h,v)}_setWindowSize(h){x.setWindowSize(this,h)}assertValidity(){m(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){p(h);const{px:v,py:E,pz:P}=this,{px:I,py:A,pz:C}=h,T=n.eql(n.mul(v,C),n.mul(I,P)),k=n.eql(n.mul(E,C),n.mul(A,P));return T&&k}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:v}=t,E=n.mul(v,pr),{px:P,py:I,pz:A}=this;let C=n.ZERO,T=n.ZERO,k=n.ZERO,N=n.mul(P,P),q=n.mul(I,I),S=n.mul(A,A),R=n.mul(P,I);return R=n.add(R,R),k=n.mul(P,A),k=n.add(k,k),C=n.mul(h,k),T=n.mul(E,S),T=n.add(C,T),C=n.sub(q,T),T=n.add(q,T),T=n.mul(C,T),C=n.mul(R,C),k=n.mul(E,k),S=n.mul(h,S),R=n.sub(N,S),R=n.mul(h,R),R=n.add(R,k),k=n.add(N,N),N=n.add(k,N),N=n.add(N,S),N=n.mul(N,R),T=n.add(T,N),S=n.mul(I,A),S=n.add(S,S),N=n.mul(S,R),C=n.sub(C,N),k=n.mul(S,q),k=n.add(k,k),k=n.add(k,k),new b(C,T,k)}add(h){p(h);const{px:v,py:E,pz:P}=this,{px:I,py:A,pz:C}=h;let T=n.ZERO,k=n.ZERO,N=n.ZERO;const q=t.a,S=n.mul(t.b,pr);let R=n.mul(v,I),_=n.mul(E,A),B=n.mul(P,C),z=n.add(v,E),O=n.add(I,A);z=n.mul(z,O),O=n.add(R,_),z=n.sub(z,O),O=n.add(v,P);let j=n.add(I,C);return O=n.mul(O,j),j=n.add(R,B),O=n.sub(O,j),j=n.add(E,P),T=n.add(A,C),j=n.mul(j,T),T=n.add(_,B),j=n.sub(j,T),N=n.mul(q,O),T=n.mul(S,B),N=n.add(T,N),T=n.sub(_,N),N=n.add(_,N),k=n.mul(T,N),_=n.add(R,R),_=n.add(_,R),B=n.mul(q,B),O=n.mul(S,O),_=n.add(_,B),B=n.sub(R,B),B=n.mul(q,B),O=n.add(O,B),R=n.mul(_,O),k=n.add(k,R),R=n.mul(j,O),T=n.mul(z,T),T=n.sub(T,R),R=n.mul(z,_),N=n.mul(j,N),N=n.add(N,R),new b(T,k,N)}subtract(h){return this.add(h.negate())}is0(){return this.equals(b.ZERO)}wNAF(h){return x.wNAFCached(this,h,b.normalizeZ)}multiplyUnsafe(h){const{endo:v,n:E}=t;it("scalar",h,Ae,E);const P=b.ZERO;if(h===Ae)return P;if(this.is0()||h===K)return this;if(!v||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,h,b.normalizeZ);let{k1neg:I,k1:A,k2neg:C,k2:T}=v.splitScalar(h),k=P,N=P,q=this;for(;A>Ae||T>Ae;)A&K&&(k=k.add(q)),T&K&&(N=N.add(q)),q=q.double(),A>>=K,T>>=K;return I&&(k=k.negate()),C&&(N=N.negate()),N=new b(n.mul(N.px,v.beta),N.py,N.pz),k.add(N)}multiply(h){const{endo:v,n:E}=t;it("scalar",h,K,E);let P,I;if(v){const{k1neg:A,k1:C,k2neg:T,k2:k}=v.splitScalar(h);let{p:N,f:q}=this.wNAF(C),{p:S,f:R}=this.wNAF(k);N=x.constTimeNegate(A,N),S=x.constTimeNegate(T,S),S=new b(n.mul(S.px,v.beta),S.py,S.pz),P=N.add(S),I=q.add(R)}else{const{p:A,f:C}=this.wNAF(h);P=A,I=C}return b.normalizeZ([P,I])[0]}multiplyAndAddUnsafe(h,v,E){const P=b.BASE,I=(C,T)=>T===Ae||T===K||!C.equals(P)?C.multiplyUnsafe(T):C.multiply(T),A=I(this,v).add(I(h,E));return A.is0()?void 0:A}toAffine(h){return d(this,h)}isTorsionFree(){const{h,isTorsionFree:v}=t;if(h===K)return!0;if(v)return v(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:v}=t;return h===K?this:v?v(b,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return Tt("isCompressed",h),this.assertValidity(),s(b,this,h)}toHex(h=!0){return Tt("isCompressed",h),At(this.toRawBytes(h))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:y}=t,x=Ll(b,g?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function Hl(e){const t=cc(e);return Cn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Vl(e){const t=Hl(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,c=2*n.BYTES+1;function i(S){return se(S,r)}function u(S){return Wr(S,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:p,isWithinCurveOrder:d}=Gl({...t,toBytes(S,R,_){const B=R.toAffine(),z=n.toBytes(B.x),O=bn;return Tt("isCompressed",_),_?O(Uint8Array.from([R.hasEvenY()?2:3]),z):O(Uint8Array.from([4]),z,n.toBytes(B.y))},fromBytes(S){const R=S.length,_=S[0],B=S.subarray(1);if(R===o&&(_===2||_===3)){const z=He(B);if(!xs(z,K,n.ORDER))throw new Error("Point is not on curve");const O=p(z);let j;try{j=n.sqrt(O)}catch(J){const Z=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+Z)}const W=(j&K)===K;return(_&1)===1!==W&&(j=n.neg(j)),{x:z,y:j}}else if(R===c&&_===4){const z=n.fromBytes(B.subarray(0,n.BYTES)),O=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:z,y:O}}else{const z=o,O=c;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+O+", got "+R)}}});function m(S){const R=r>>K;return S>R}function b(S){return m(S)?i(-S):S}const g=(S,R,_)=>He(S.slice(R,_));class y{constructor(R,_,B){it("r",R,K,r),it("s",_,K,r),this.r=R,this.s=_,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(R){const _=s;return R=pe("compactSignature",R,_*2),new y(g(R,0,_),g(R,_,2*_))}static fromDER(R){const{r:_,s:B}=Te.toSig(pe("DER",R));return new y(_,B)}assertValidity(){}addRecoveryBit(R){return new y(this.r,this.s,R)}recoverPublicKey(R){const{r:_,s:B,recovery:z}=this,O=P(pe("msgHash",R));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const j=z===2||z===3?_+t.n:_;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(z&1)===0?"02":"03",Q=f.fromHex(W+lr(j,n.BYTES)),J=u(j),Z=i(-O*J),ee=i(B*J),ke=f.BASE.multiplyAndAddUnsafe(Q,Z,ee);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return mn(this.toDERHex())}toDERHex(){return Te.hexFromSig(this)}toCompactRawBytes(){return mn(this.toCompactHex())}toCompactHex(){const R=s;return lr(this.r,R)+lr(this.s,R)}}const x={isValidPrivateKey(S){try{return l(S),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const S=ac(t.n);return Fl(t.randomBytes(S),t.n)},precompute(S=8,R=f.BASE){return R._setWindowSize(S),R.multiply(BigInt(3)),R}};function w(S,R=!0){return f.fromPrivateKey(S).toRawBytes(R)}function h(S){if(typeof S=="bigint")return!1;if(S instanceof f)return!0;const _=pe("key",S).length,B=n.BYTES,z=B+1,O=2*B+1;if(!(t.allowedPrivateKeyLengths||s===z))return _===z||_===O}function v(S,R,_=!0){if(h(S)===!0)throw new Error("first arg must be private key");if(h(R)===!1)throw new Error("second arg must be public key");return f.fromHex(R).multiply(l(S)).toRawBytes(_)}const E=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const R=He(S),_=S.length*8-a;return _>0?R>>BigInt(_):R},P=t.bits2int_modN||function(S){return i(E(S))},I=$n(a);function A(S){return it("num < 2^"+a,S,Ae,I),_t(S,s)}function C(S,R,_=T){if(["recovered","canonical"].some(qe=>qe in _))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:z}=t;let{lowS:O,prehash:j,extraEntropy:W}=_;O==null&&(O=!0),S=pe("msgHash",S),Za(_),j&&(S=pe("prehashed msgHash",B(S)));const Q=P(S),J=l(R),Z=[A(J),A(Q)];if(W!=null&&W!==!1){const qe=W===!0?z(n.BYTES):W;Z.push(pe("extraEntropy",qe))}const ee=bn(...Z),ke=Q;function Wn(qe){const nt=E(qe);if(!d(nt))return;const Zn=u(nt),wt=f.BASE.multiply(nt).toAffine(),Ue=i(wt.x);if(Ue===Ae)return;const xt=i(Zn*i(ke+Ue*J));if(xt===Ae)return;let vt=(wt.x===Ue?0:2)|Number(wt.y&K),rt=xt;return O&&m(xt)&&(rt=b(xt),vt^=1),new y(Ue,rt,vt)}return{seed:ee,k2sig:Wn}}const T={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function N(S,R,_=T){const{seed:B,k2sig:z}=C(S,R,_),O=t;return B0(O.hash.outputLen,O.nByteLength,O.hmac)(B,z)}f.BASE._setWindowSize(8);function q(S,R,_,B=k){var vt;const z=S;R=pe("msgHash",R),_=pe("publicKey",_);const{lowS:O,prehash:j,format:W}=B;if(Za(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(W!==void 0&&W!=="compact"&&W!=="der")throw new Error("format must be compact or der");const Q=typeof z=="string"||Ft(z),J=!Q&&!W&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!Q&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,ee;try{if(J&&(Z=new y(z.r,z.s)),Q){try{W!=="compact"&&(Z=y.fromDER(z))}catch(rt){if(!(rt instanceof Te.Err))throw rt}!Z&&W!=="der"&&(Z=y.fromCompact(z))}ee=f.fromHex(_)}catch{return!1}if(!Z||O&&Z.hasHighS())return!1;j&&(R=t.hash(R));const{r:ke,s:Wn}=Z,qe=P(R),nt=u(Wn),Zn=i(qe*nt),wt=i(ke*nt),Ue=(vt=f.BASE.multiplyAndAddUnsafe(ee,Zn,wt))==null?void 0:vt.toAffine();return Ue?i(Ue.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:v,sign:N,verify:q,ProjectivePoint:f,Signature:y,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wl(e){return{hash:e,hmac:(t,...n)=>Ji(e,t,eu(...n)),randomBytes:Qc}}function Zl(e,t){const n=r=>Vl({...e,...Wl(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ka=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Kl=BigInt(0),Yl=BigInt(1),Kr=BigInt(2),Ya=(e,t)=>(e+t/Kr)/t;function Jl(e){const t=uc,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),i=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=le(f,n,t)*f%t,p=le(l,n,t)*f%t,d=le(p,Kr,t)*u%t,m=le(d,s,t)*d%t,b=le(m,a,t)*m%t,g=le(b,c,t)*b%t,y=le(g,i,t)*g%t,x=le(y,c,t)*b%t,w=le(x,n,t)*f%t,h=le(w,o,t)*m%t,v=le(h,r,t)*u%t,E=le(v,Kr,t);if(!Yr.eql(Yr.sqr(E),e))throw new Error("Cannot find square root");return E}const Yr=Us(uc,void 0,void 0,{sqrt:Jl}),gt=Zl({a:Kl,b:BigInt(7),Fp:Yr,n:Ka,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ka,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),c=Ya(a*e,t),i=Ya(-r*e,t);let u=se(e-c*n-i*s,t),f=se(-c*r-i*a,t);const l=u>o,p=f>o;if(l&&(u=t-u),p&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:p,k2:f}}}},fu),Xl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:gt},Symbol.toStringTag,{value:"Module"}));function fc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new mr({signature:e});if(typeof e.s>"u")throw new mr({signature:e});if(n&&typeof e.yParity>"u")throw new mr({signature:e});if(e.r<0n||e.r>ja)throw new sp({value:e.r});if(e.s<0n||e.s>ja)throw new ap({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Ds({value:e.yParity})}function Ql(e){return dc(fe(e))}function dc(e){if(e.length!==130&&e.length!==132)throw new rp({signature:e});const t=BigInt(Y(e,0,32)),n=BigInt(Y(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return js(s)}catch{throw new Ds({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function lc(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return pc(e)}function pc(e){const t=typeof e=="string"?dc(e):e instanceof Uint8Array?Ql(e):typeof e.r=="string"?tp(e):e.v?ep(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return fc(t),t}function ep(e){return{r:e.r,s:e.s,yParity:js(e.v)}}function tp(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=js(n)),typeof r!="number")throw new Ds({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function np(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":Ba(G(t)),n===0n?"0x":Ba(G(n))]}function js(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new op({value:e})}class rp extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ne(Es(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class mr extends L{constructor({signature:t}){super(`Signature \`${Rn(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class sp extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ap extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Ds extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class op extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ip(e,t={}){return typeof e.chainId=="string"?cp(e):{...e,...t.signature}}function cp(e){const{address:t,chainId:n,nonce:r}=e,s=lc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function up(e){return fp(e,{presign:!0})}function fp(e,t={}){const{presign:n}=t;return qn(ce("0x05",Al(dp(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function dp(e){const{address:t,chainId:n,nonce:r}=e,s=lc(e);return[n?G(n):"0x",t,r?G(r):"0x",...s?np(s):[]]}function lp(e){return Jd(pp(e))}function pp(e){const{payload:t,signature:n}=e,{r,s,yParity:a}=n,c=new gt.Signature(BigInt(r),BigInt(s)).addRecoveryBit(a).recoverPublicKey(Es(t).substring(2));return jd(c)}const mc="0x8010801080108010801080108010801080108010801080108010801080108010",bc=Hi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Gs(e){if(typeof e=="string"){if(Y(e,-32)!==mc)throw new bp(e)}else fc(e.authorization)}function hc(e){Gs(e);const t=Qo(Y(e,-64,-32)),n=Y(e,-t-64,-64),r=Y(e,0,-t-64),[s,a,o]=xl(bc,n);return{authorization:ip({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:a}:{}}}function mp(e){const{data:t,signature:n}=e;Gs(e);const r=lp({payload:up(e.authorization),signature:pc(e.authorization)}),s=Un(bc,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),a=G(ne(s),{size:32});return ce(n,s,a,mc)}function yc(e){try{return Gs(e),!0}catch{return!1}}let bp=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function hp(e){return yc(e)}function $m(e){if(!Ld(e))return{signature:e};const[t,n,r]=xn([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Cm(e){if(!hp(e))return{signature:e};const{authorization:t,to:n,...r}=hc(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:$(t.r,{size:32}),s:$(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function yp({message:e,signature:t}){return mt({hash:zs(e),signature:t})}async function gp(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return mt({hash:fo({domain:t,message:n,primaryType:r,types:a}),signature:s})}function km(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=he([lt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),qi]);return s==="hex"?a:me(a)}function Rm(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=mp({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?a:me(a)}async function Nm({address:e,hash:t,signature:n}){return _e(Ee(e),await mt({hash:t,signature:n}))}async function Mm({address:e,message:t,signature:n}){return _e(Ee(e),await yp({message:t,signature:n}))}async function zm(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return _e(Ee(t),await gp({domain:n,message:r,primaryType:s,signature:a,types:o}))}function wp(e){const t=cn(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&H(t)>=192)return"legacy";throw new a0({serializedType:t})}function xp(e){const t=wp(e);return t==="eip1559"?Pp(e):t==="eip2930"?Ip(e):t==="eip4844"?Ep(e):t==="eip7702"?vp(e):Tp(e)}function vp(e){const t=jn(e),[n,r,s,a,o,c,i,u,f,l,p,d,m]=t;if(t.length!==10&&t.length!==13)throw new Nt({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,authorizationList:l,...t.length>9?{v:p,r:d,s:m}:{}},serializedTransaction:e,type:"eip7702"});const b={chainId:H(n),type:"eip7702"};return U(c)&&c!=="0x"&&(b.to=c),U(o)&&o!=="0x"&&(b.gas=D(o)),U(u)&&u!=="0x"&&(b.data=u),U(r)&&(b.nonce=r==="0x"?0:H(r)),U(i)&&i!=="0x"&&(b.value=D(i)),U(a)&&a!=="0x"&&(b.maxFeePerGas=D(a)),U(s)&&s!=="0x"&&(b.maxPriorityFeePerGas=D(s)),f.length!==0&&f!=="0x"&&(b.accessList=Dn(f)),l.length!==0&&l!=="0x"&&(b.authorizationList=Ap(l)),Si(b),{...t.length===13?Gt(t):void 0,...b}}function Ep(e){const t=jn(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,c,i,u,f,l,p,d,m,b,g,y,x]=r,[w,h,v]=s;if(!(r.length===11||r.length===14))throw new Nt({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:i,gas:u,to:f,value:l,data:p,accessList:d,...r.length>9?{v:g,r:y,s:x}:{}},serializedTransaction:e,type:"eip4844"});const E={blobVersionedHashes:b,chainId:H(a),to:f,type:"eip4844"};return U(u)&&u!=="0x"&&(E.gas=D(u)),U(p)&&p!=="0x"&&(E.data=p),U(o)&&(E.nonce=o==="0x"?0:H(o)),U(l)&&l!=="0x"&&(E.value=D(l)),U(m)&&m!=="0x"&&(E.maxFeePerBlobGas=D(m)),U(i)&&i!=="0x"&&(E.maxFeePerGas=D(i)),U(c)&&c!=="0x"&&(E.maxPriorityFeePerGas=D(c)),d.length!==0&&d!=="0x"&&(E.accessList=Dn(d)),w&&h&&v&&(E.sidecars=ps({blobs:w,commitments:h,proofs:v})),Bi(E),{...r.length===14?Gt(r):void 0,...E}}function Pp(e){const t=jn(e),[n,r,s,a,o,c,i,u,f,l,p,d]=t;if(!(t.length===9||t.length===12))throw new Nt({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,...t.length>9?{v:l,r:p,s:d}:{}},serializedTransaction:e,type:"eip1559"});const m={chainId:H(n),type:"eip1559"};return U(c)&&c!=="0x"&&(m.to=c),U(o)&&o!=="0x"&&(m.gas=D(o)),U(u)&&u!=="0x"&&(m.data=u),U(r)&&(m.nonce=r==="0x"?0:H(r)),U(i)&&i!=="0x"&&(m.value=D(i)),U(a)&&a!=="0x"&&(m.maxFeePerGas=D(a)),U(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=D(s)),f.length!==0&&f!=="0x"&&(m.accessList=Dn(f)),On(m),{...t.length===12?Gt(t):void 0,...m}}function Ip(e){const t=jn(e),[n,r,s,a,o,c,i,u,f,l,p]=t;if(!(t.length===8||t.length===11))throw new Nt({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:c,data:i,accessList:u,...t.length>8?{v:f,r:l,s:p}:{}},serializedTransaction:e,type:"eip2930"});const d={chainId:H(n),type:"eip2930"};return U(o)&&o!=="0x"&&(d.to=o),U(a)&&a!=="0x"&&(d.gas=D(a)),U(i)&&i!=="0x"&&(d.data=i),U(r)&&(d.nonce=r==="0x"?0:H(r)),U(c)&&c!=="0x"&&(d.value=D(c)),U(s)&&s!=="0x"&&(d.gasPrice=D(s)),u.length!==0&&u!=="0x"&&(d.accessList=Dn(u)),$i(d),{...t.length===11?Gt(t):void 0,...d}}function Tp(e){const t=Ni(e,"hex"),[n,r,s,a,o,c,i,u,f]=t;if(!(t.length===6||t.length===9))throw new Nt({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:c,...t.length>6?{v:i,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const l={type:"legacy"};if(U(a)&&a!=="0x"&&(l.to=a),U(s)&&s!=="0x"&&(l.gas=D(s)),U(c)&&c!=="0x"&&(l.data=c),U(n)&&(l.nonce=n==="0x"?0:H(n)),U(o)&&o!=="0x"&&(l.value=D(o)),U(r)&&r!=="0x"&&(l.gasPrice=D(r)),Ci(l),t.length===6)return l;const p=U(i)&&i!=="0x"?D(i):0n;if(f==="0x"&&u==="0x")return p>0&&(l.chainId=Number(p)),l;const d=p,m=Number((d-35n)/2n);if(m>0)l.chainId=m;else if(d!==27n&&d!==28n)throw new So({v:d});return l.v=d,l.s=f,l.r=u,l.yParity=d%2n===0n?1:0,l}function jn(e){return Ni(`0x${e.slice(4)}`,"hex")}function Dn(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!ye(r,{strict:!1}))throw new ve({address:r});t.push({address:r,storageKeys:s.map(a=>vd(a)?a:Ze(a))})}return t}function Ap(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,a,o,c,i]=e[n];t.push({address:s,chainId:r==="0x"?0:H(r),nonce:a==="0x"?0:H(a),...Gt([o,c,i])})}return t}function Gt(e){const t=e.slice(-3),n=t[0]==="0x"||D(t[0])===0n?27n:28n;return{r:Ys(t[1],{size:32}),s:Ys(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class Sp extends M{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function gc(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Sp({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],i=Math.round(+`${o}.${c}`);i>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${i}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Fm(e,t="wei"){return gc(e,Io[t])}function _m(e,t="wei"){return gc(e,To[t])}function Bp(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function $p(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?H(e.nonce):void 0,storageProof:e.storageProof?Bp(e.storageProof):void 0}}async function Cp(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?$(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||a]});return $p(c)}async function kp(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?$(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Hs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a,sender:o,nonce:c}){var p,d,m;const i=r||"latest",u=n!==void 0?$(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,$(a)]},{dedupe:!0}):typeof a=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||i,$(a)]},{dedupe:!!u}):o&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,$(c)]},{dedupe:!0})),!f)throw new Bo({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(((m=(d=(p=e.chain)==null?void 0:p.formatters)==null?void 0:d.transaction)==null?void 0:m.format)||tu)(f,"getTransaction")}async function Rp(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([F(e,qt,"getBlockNumber")({}),t?F(e,Hs,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function sn(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new $o({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||lo)(n,"getTransactionReceipt")}async function Np(e,t){var x;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:o,blockTag:c,stateOverride:i}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return ht({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),d=[[]];let m=0,b=0;for(let w=0;w<u.length;w++){const{abi:h,address:v,args:E,functionName:P}=u[w];try{const I=de({abi:h,args:E,functionName:P});b+=(I.length-2)/2,f>0&&b>f&&d[m].length>0&&(m++,b=(I.length-2)/2,d[m]=[]),d[m]=[...d[m],{allowFailure:!0,callData:I,target:v}]}catch(I){const A=Ke(I,{abi:h,address:v,args:E,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw A;d[m]=[...d[m],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(d.map(w=>F(e,be,"readContract")({...p===null?{code:Is}:{address:p},abi:hn,account:n,args:[w],authorizationList:r,blockNumber:a,blockOverrides:o,blockTag:c,functionName:"aggregate3",stateOverride:i}))),y=[];for(let w=0;w<g.length;w++){const h=g[w];if(h.status==="rejected"){if(!s)throw h.reason;for(let E=0;E<d[w].length;E++)y.push({status:"failure",error:h.reason,result:void 0});continue}const v=h.value;for(let E=0;E<v.length;E++){const{returnData:P,success:I}=v[E],{callData:A}=d[w][E],{abi:C,address:T,functionName:k,args:N}=u[y.length];try{if(A==="0x")throw new ts;if(!I)throw new Tn({data:P});const q=tt({abi:C,args:N,data:P,functionName:k});y.push(s?{result:q,status:"success"}:q)}catch(q){const S=Ke(q,{abi:C,address:T,args:N,docsPath:"/docs/contract/multicall",functionName:k});if(!s)throw S;y.push({error:S,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new M("multicall results mismatch");return y}async function Jr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:c}=t;try{const i=[];for(const p of s){const d=p.blockOverrides?ri(p.blockOverrides):void 0,m=p.calls.map(g=>{const y=g,x=y.account?V(y.account):void 0,w=y.abi?de(y):y.data,h={...y,account:x,data:y.dataSuffix?We([w||"0x",y.dataSuffix]):w,from:y.from??(x==null?void 0:x.address)};return Oe(h),Fe(h)}),b=p.stateOverrides?is(p.stateOverrides):void 0;i.push({blockOverrides:d,calls:m,stateOverrides:b})}const f=(typeof n=="bigint"?$(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:i,returnFullTransactions:a,traceTransfers:o,validation:c},f]})).map((p,d)=>({...ro(p),calls:p.calls.map((m,b)=>{var C,T;const{abi:g,args:y,functionName:x,to:w}=s[d].calls[b],h=((C=m.error)==null?void 0:C.data)??m.returnData,v=BigInt(m.gasUsed),E=(T=m.logs)==null?void 0:T.map(k=>Ne(k)),P=m.status==="0x1"?"success":"failure",I=g&&P==="success"&&h!=="0x"?tt({abi:g,data:h,functionName:x}):null,A=(()=>{var N;if(P==="success")return;let k;if(((N=m.error)==null?void 0:N.data)==="0x"?k=new ts:m.error&&(k=new Tn(m.error)),!!k)return Ke(k,{abi:g??[],address:w??"0x",args:y,functionName:x??"<unknown>"})})();return{data:h,gasUsed:v,logs:E,status:P,...P==="success"?{result:I}:{error:A}}})}))}catch(i){const u=i,f=Sn(u,{});throw f instanceof Mt?u:f}}function Xr(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){a=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!a)throw new L("Unable to normalize signature.");return s}function Qr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Gr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Qr(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Qr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function wc(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return wc(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Gr(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Gr(n[r],{strict:!1}):!1)return o}}function xc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ba(e):e;return{...r,...n?{hash:ot(r)}:{}}}function Gn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=ei(t,{strict:!1}),o=e.filter(u=>a?u.type==="function"||u.type==="error"?vc(u)===Y(t,0,4):u.type==="event"?ot(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new wn({name:t});if(o.length===1)return{...o[0],...s?{hash:ot(o[0])}:{}};let c;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:ot(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,p)=>{const d="inputs"in u&&u.inputs[p];return d?Qr(l,d):!1})){if(c&&"inputs"in c&&c.inputs){const l=wc(u.inputs,c.inputs,r);if(l)throw new zp({abiItem:u,type:l[0]},{abiItem:c,type:l[1]})}c=u}}const i=(()=>{if(c)return c;const[u,...f]=o;return{...u,overloads:f}})();if(!i)throw new wn({name:t});return{...i,...s?{hash:ot(i)}:{}}}function vc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Gn(n,r)}return e[0]})();return Y(ot(t),0,4)}function Mp(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Gn(r,s)}return e[0]})(),n=typeof t=="string"?t:gr(t);return Xr(n)}function ot(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Gn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:qn(Ps(Mp(t)))}class zp extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Xr(gr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Xr(gr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class wn extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Fp(...e){var a;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,c]=e;return[Op(o),c]}return e})(),{bytecode:r,args:s}=n;return ce(r,(a=t.inputs)!=null&&a.length&&(s!=null&&s.length)?Un(t.inputs,s):"0x")}function _p(e){return xc(e)}function Op(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new wn({name:"constructor"});return t}function Lp(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,l]=e;return[Ja(u,f,{args:l}),l]}const[c,i]=e;return[c,i]})(),{overloads:r}=t,s=r?Ja([t,...r],t.name,{args:n}):t,a=qp(s),o=n.length>0?Un(s.inputs,n):void 0;return o?ce(a,o):a}function st(e,t={}){return xc(e,t)}function Ja(e,t,n){const r=Gn(e,t,n);if(r.type!=="function")throw new wn({name:t,type:"function"});return r}function qp(e){return vc(e)}const Up="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",we="0x0000000000000000000000000000000000000000",jp="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Dp(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:c,validation:i}=t,u=t.account?V(t.account):void 0;if(o&&!u)throw new M("`account` is required when `traceAssetChanges` is true");const f=u?Fp(_p("constructor(bytes, bytes)"),{bytecode:ii,args:[jp,Lp(st("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:z}=await Pi(e,{account:u.address,...B,data:B.abi?de(B):B.data});return z.map(({address:O,storageKeys:j})=>j.length>0?O:null)})).then(B=>B.flat().filter(Boolean)):[],p=await Jr(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:l.map((B,z)=>({abi:[st("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]}]:[],{calls:[...s,{}].map(B=>({...B,from:u==null?void 0:u.address})),stateOverrides:a},...o?[{calls:[{data:f}]},{calls:l.map((B,z)=>({abi:[st("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[st("function decimals() returns (uint256)")],functionName:"decimals",from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[st("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[st("function symbol() returns (string)")],functionName:"symbol",from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]}]:[]],traceTransfers:c,validation:i}),d=o?p[2]:p[0],[m,b,,g,y,x,w,h]=o?p:[],{calls:v,...E}=d,P=v.slice(0,-1)??[],I=(m==null?void 0:m.calls)??[],A=(b==null?void 0:b.calls)??[],C=[...I,...A].map(B=>B.status==="success"?D(B.data):null),T=(g==null?void 0:g.calls)??[],k=(y==null?void 0:y.calls)??[],N=[...T,...k].map(B=>B.status==="success"?D(B.data):null),q=((x==null?void 0:x.calls)??[]).map(B=>B.status==="success"?B.result:null),S=((h==null?void 0:h.calls)??[]).map(B=>B.status==="success"?B.result:null),R=((w==null?void 0:w.calls)??[]).map(B=>B.status==="success"?B.result:null),_=[];for(const[B,z]of N.entries()){const O=C[B];if(typeof z!="bigint"||typeof O!="bigint")continue;const j=q[B-1],W=S[B-1],Q=R[B-1],J=B===0?{address:Up,decimals:18,symbol:"ETH"}:{address:l[B-1],decimals:Q||j?Number(j??1):void 0,symbol:W??void 0};_.some(Z=>Z.token.address===J.address)||_.push({token:J,value:{pre:O,post:z,diff:z-O}})}return{assetChanges:_,block:E,results:P}}const Ec="0x6492649264926492649264926492649264926492649264926492649264926492";function Gp(e){if(Y(e,-32)!==Ec)throw new Wp(e)}function Hp(e){const{data:t,signature:n,to:r}=e;return ce(Un(Hi("address, bytes, bytes"),[r,t,n]),Ec)}function Vp(e){try{return Gp(e),!0}catch{return!1}}class Wp extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Zp({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new gt.Signature(D(e),D(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:me(o)}async function Hn(e,t){var c,i,u,f,l,p;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(i=(c=e.chain)==null?void 0:c.contracts)==null?void 0:i.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=t.multicallAddress??((p=(l=(f=e.chain)==null?void 0:f.contracts)==null?void 0:l.multicall3)==null?void 0:p.address)}=t,o=(()=>{const d=t.signature;return U(d)?d:typeof d=="object"&&"r"in d&&"s"in d?Zp(d):ie(d)})();try{return yc(o)?await Kp(e,{...t,multicallAddress:a,signature:o}):await Yp(e,{...t,verifierAddress:s,signature:o})}catch(d){try{if(_e(Ee(n),await mt({hash:r,signature:o})))return!0}catch{}if(d instanceof Qe)return!1;throw d}}async function Kp(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:o}=t,{authorization:c,data:i,signature:u,to:f}=hc(t.signature);if(await jr(e,{address:n,blockNumber:r,blockTag:s})===he(["0xef0100",c.address]))return await Jp(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const p={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:$(c.r,{size:32}),s:$(c.s,{size:32}),yParity:c.yParity};if(!await fd({address:n,authorization:p}))throw new Qe;const m=await F(e,be,"readContract")({...o?{address:o}:{code:Is},authorizationList:[p],abi:hn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:f??n,callData:i}]:[],{allowFailure:!0,target:n,callData:de({abi:oi,functionName:"isValidSignature",args:[a,u]})}]]}),b=(g=m[m.length-1])==null?void 0:g.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Qe}async function Yp(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:c,...i}=t,u=await(async()=>!r&&!s||Vp(o)?o:Hp({data:s,signature:o,to:r}))(),f=c?{to:c,data:de({abi:Na,functionName:"isValidSig",args:[n,a,u]}),...i}:{data:Mn({abi:Na,args:[n,a,u],bytecode:uf}),...i},{data:l}=await F(e,Lt,"call")(f).catch(p=>{throw p instanceof ko?new Qe:p});if(nu(l??"0x0"))return!0;throw new Qe}async function Jp(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t;if((await F(e,be,"readContract")({address:n,abi:oi,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(i=>{throw i instanceof Ro?new Qe:i})).startsWith("0x1626ba7e"))return!0;throw new Qe}class Qe extends Error{}async function Xp(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const c=zs(n);return Hn(e,{address:t,factory:r,factoryData:s,hash:c,signature:a,...o})}async function Qp(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:c,types:i,domain:u,...f}=t,l=fo({message:o,primaryType:c,types:i,domain:u});return Hn(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...f})}function Pc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let i;return c?(()=>{const l=X(["watchBlockNumber",e.uid,t,n,o]);return Ce(l,{onBlockNumber:r,onError:s},p=>yt(async()=>{var d;try{const m=await F(e,qt,"getBlockNumber")({cacheTime:0});if(i!==void 0){if(m===i)return;if(m-i>1&&n)for(let b=i+1n;b<m;b++)p.onBlockNumber(b,i),i=b}(i===void 0||m>i)&&(p.onBlockNumber(m,i),i=m)}catch(m){(d=p.onError)==null||d.call(p,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=X(["watchBlockNumber",e.uid,t,n]);return Ce(l,{onBlockNumber:r,onError:s},p=>{let d=!0,m=()=>d=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(y){var w;if(!d)return;const x=D((w=y.result)==null?void 0:w.number);p.onBlockNumber(x,i),i=x},onError(y){var x;(x=p.onError)==null||x.call(p,y)}});m=g,d||m()}catch(b){s==null||s(b)}})(),()=>m()})})()}async function Ic(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:c=({count:v})=>~~(1<<v)*200,timeout:i=18e4}=t,u=X(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var v;return t.pollingInterval?t.pollingInterval:(v=e.chain)!=null&&v.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,p,d,m=!1,b,g;const{promise:y,resolve:x,reject:w}=Ts(),h=i?setTimeout(()=>{g==null||g(),b==null||b(),w(new c0({hash:s}))},i):void 0;return b=Ce(u,{onReplaced:a,resolve:x,reject:w},async v=>{if(d=await F(e,sn,"getTransactionReceipt")({hash:s}).catch(()=>{}),d&&r<=1){clearTimeout(h),v.resolve(d),b==null||b();return}g=F(e,Pc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const P=A=>{clearTimeout(h),g==null||g(),A(),b==null||b()};let I=E;if(!m)try{if(d){if(r>1&&(!d.blockNumber||I-d.blockNumber+1n<r))return;P(()=>v.resolve(d));return}if(n&&!l&&(m=!0,await gn(async()=>{l=await F(e,Hs,"getTransaction")({hash:s}),l.blockNumber&&(I=l.blockNumber)},{delay:c,retryCount:o}),m=!1),d=await F(e,sn,"getTransactionReceipt")({hash:s}),r>1&&(!d.blockNumber||I-d.blockNumber+1n<r))return;P(()=>v.resolve(d))}catch(A){if(A instanceof Bo||A instanceof $o){if(!l){m=!1;return}try{p=l,m=!0;const C=await gn(()=>F(e,xe,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:c,retryCount:o,shouldRetry:({error:N})=>N instanceof No});m=!1;const T=C.transactions.find(({from:N,nonce:q})=>N===p.from&&q===p.nonce);if(!T||(d=await F(e,sn,"getTransactionReceipt")({hash:T.hash}),r>1&&(!d.blockNumber||I-d.blockNumber+1n<r)))return;let k="replaced";T.to===p.to&&T.value===p.value&&T.input===p.input?k="repriced":T.from===T.to&&T.value===0n&&(k="cancelled"),P(()=>{var N;(N=v.onReplaced)==null||N.call(v,{reason:k,replacedTransaction:p,transaction:T,transactionReceipt:d}),v.resolve(d)})}catch(C){P(()=>v.reject(C))}}else P(()=>v.reject(A))}}})}),y}function e1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:c,pollingInterval:i=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let l;return u?(()=>{const m=X(["watchBlocks",e.uid,t,n,r,f,i]);return Ce(m,{onBlock:s,onError:a},b=>yt(async()=>{var g;try{const y=await F(e,xe,"getBlock")({blockTag:t,includeTransactions:f});if(y.number!==null&&(l==null?void 0:l.number)!=null){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let x=(l==null?void 0:l.number)+1n;x<y.number;x++){const w=await F(e,xe,"getBlock")({blockNumber:x,includeTransactions:f});b.onBlock(w,l),l=w}}((l==null?void 0:l.number)==null||t==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>l.number)&&(b.onBlock(y,l),l=y)}catch(y){(g=b.onError)==null||g.call(b,y)}},{emitOnBegin:r,interval:i}))})():(()=>{let m=!0,b=!0,g=()=>m=!1;return(async()=>{try{r&&F(e,xe,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{m&&b&&(s(w,void 0),b=!1)}).catch(a);const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await y.subscribe({params:["newHeads"],async onData(w){var v;if(!m)return;const h=await F(e,xe,"getBlock")({blockNumber:(v=w.result)==null?void 0:v.number,includeTransactions:f}).catch(()=>{});m&&(s(h,l),b=!1,l=h)},onError(w){a==null||a(w)}});g=x,m||g()}catch(y){a==null||a(y)}})(),()=>g()})()}function t1(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:c,onLogs:i,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const p=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=l??!1;return p?(()=>{const g=X(["watchEvent",t,n,r,e.uid,s,f,o]);return Ce(g,{onLogs:i,onError:c},y=>{let x;o!==void 0&&(x=o-1n);let w,h=!1;const v=yt(async()=>{var E;if(!h){try{w=await F(e,Ii,"createEventFilter")({address:t,args:n,event:s,events:a,strict:d,fromBlock:o})}catch{}h=!0;return}try{let P;if(w)P=await F(e,zn,"getFilterChanges")({filter:w});else{const I=await F(e,qt,"getBlockNumber")({});x&&x!==I?P=await F(e,hs,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:x+1n,toBlock:I}):P=[],x=I}if(P.length===0)return;if(r)y.onLogs(P);else for(const I of P)y.onLogs([I])}catch(P){w&&P instanceof dn&&(h=!1),(E=y.onError)==null||E.call(y,P)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await F(e,Fn,"uninstallFilter")({filter:w}),v()}})})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let h=[];w&&(h=[w.flatMap(P=>Bt({abi:[P],eventName:P.name,args:n}))],s&&(h=h[0]));const{unsubscribe:v}=await x.subscribe({params:["logs",{address:t,topics:h}],onData(E){var I;if(!g)return;const P=E.result;try{const{eventName:A,args:C}=oo({abi:w??[],data:P.data,topics:P.topics,strict:d}),T=Ne(P,{args:C,eventName:A});i([T])}catch(A){let C,T;if(A instanceof io||A instanceof co){if(l)return;C=A.abiItem.name,T=(I=A.abiItem.inputs)==null?void 0:I.some(N=>!("name"in N&&N.name))}const k=Ne(P,{args:T?[]:{},eventName:C});i([k])}},onError(E){c==null||c(E)}});y=v,g||y()}catch(x){c==null||c(x)}})(),()=>y()})()}function n1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=X(["watchPendingTransactions",e.uid,t,a]);return Ce(u,{onTransactions:r,onError:n},f=>{let l;const p=yt(async()=>{var d;try{if(!l)try{l=await F(e,Ti,"createPendingTransactionFilter")({});return}catch(b){throw p(),b}const m=await F(e,zn,"getFilterChanges")({filter:l});if(m.length===0)return;if(t)f.onTransactions(m);else for(const b of m)f.onTransactions([b])}catch(m){(d=f.onError)==null||d.call(f,m)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await F(e,Fn,"uninstallFilter")({filter:l}),p()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const d=p.result;r([d])},onError(p){n==null||n(p)}});f=l,u||f()}catch(l){n==null||n(l)}})(),()=>f()})()}function r1(e){var l,p,d;const{scheme:t,statement:n,...r}=((l=e.match(s1))==null?void 0:l.groups)??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:c,requestId:i,...u}=((p=e.match(a1))==null?void 0:p.groups)??{},f=(d=e.split("Resources:")[1])==null?void 0:d.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...i?{requestId:i}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const s1=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,a1=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function o1(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ye(r.address,{strict:!1})||t&&!_e(r.address,t))return!1}catch{return!1}return!0}async function i1(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:c,time:i=new Date,...u}=t,f=r1(s);if(!f.address||!o1({address:n,domain:r,message:f,nonce:a,scheme:o,time:i}))return!1;const p=zs(s);return Hn(e,{address:f.address,hash:p,signature:c,...u})}async function Vs(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var c,i,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,$(r)]:[t]},{retryCount:0}),o=(((u=(i=(c=e.chain)==null?void 0:c.formatters)==null?void 0:i.transactionReceipt)==null?void 0:u.format)||lo)(s);if(o.status==="reverted"&&n)throw new Co({receipt:o});return o}function c1(e){return{call:t=>Lt(e,t),createAccessList:t=>Pi(e,t),createBlockFilter:()=>Hf(e),createContractEventFilter:t=>as(e,t),createEventFilter:t=>Ii(e,t),createPendingTransactionFilter:()=>Ti(e),estimateContractGas:t=>jo(e,t),estimateGas:t=>bs(e,t),getBalance:t=>Vf(e,t),getBlobBaseFee:()=>Wf(e),getBlock:t=>xe(e,t),getBlockNumber:t=>qt(e,t),getBlockTransactionCount:t=>Zf(e,t),getBytecode:t=>jr(e,t),getChainId:()=>et(e),getCode:t=>jr(e,t),getContractEvents:t=>ys(e,t),getEip712Domain:t=>Yf(e,t),getEnsAddress:t=>Bf(e,t),getEnsAvatar:t=>jf(e,t),getEnsName:t=>Df(e,t),getEnsResolver:t=>Gf(e,t),getEnsText:t=>Ei(e,t),getFeeHistory:t=>Qf(e,t),estimateFeesPerGas:t=>v0(e,t),getFilterChanges:t=>zn(e,t),getFilterLogs:t=>ed(e,t),getGasPrice:()=>us(e),getLogs:t=>hs(e,t),getProof:t=>Cp(e,t),estimateMaxPriorityFeePerGas:t=>x0(e,t),getStorageAt:t=>kp(e,t),getTransaction:t=>Hs(e,t),getTransactionConfirmations:t=>Rp(e,t),getTransactionCount:t=>Bn(e,t),getTransactionReceipt:t=>sn(e,t),multicall:t=>Np(e,t),prepareTransactionRequest:t=>zt(e,t),readContract:t=>be(e,t),sendRawTransaction:t=>$s(e,t),sendRawTransactionSync:t=>Vs(e,t),simulate:t=>Jr(e,t),simulateBlocks:t=>Jr(e,t),simulateCalls:t=>Dp(e,t),simulateContract:t=>di(e,t),verifyHash:t=>Hn(e,t),verifyMessage:t=>Xp(e,t),verifySiweMessage:t=>i1(e,t),verifyTypedData:t=>Qp(e,t),uninstallFilter:t=>Fn(e,t),waitForTransactionReceipt:t=>Ic(e,t),watchBlocks:t=>e1(e,t),watchBlockNumber:t=>Pc(e,t),watchContractEvent:t=>li(e,t),watchEvent:t=>t1(e,t),watchPendingTransactions:t=>n1(e,t)}}function Om(e){const{key:t="public",name:n="Public Client"}=e;return Cs({...e,key:t,name:n,type:"publicClient"}).extend(c1)}async function u1(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function f1(e){return e.request({method:`${e.mode}_dumpState`})}async function d1(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function l1(e){return await e.request({method:"txpool_content"})}async function p1(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:H(t),queued:H(n)}}async function m1(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function b1(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[$(t)]})}async function h1(e){return await e.request({method:"txpool_inspect"})}async function y1(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function g1(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:$(t)}]}):await e.request({method:`${e.mode}_mine`,params:[$(t),$(n||0)]})}async function w1(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function x1(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function v1(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function E1(e,t){var y,x,w;const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l,...p}=t,d=(w=(x=(y=e.chain)==null?void 0:y.formatters)==null?void 0:x.transactionRequest)==null?void 0:w.format,b=(d||Fe)({...bt(p,{format:d}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[b]})}async function P1(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function I1(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,$(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,$(n)]})}async function T1(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[$(t)]})}async function A1(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function S1(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function B1(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function $1(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function C1(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function k1(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[$(t)]})}async function R1(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[$(t)]})}async function N1(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[$(t)]})}async function M1(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,$(n)]})}async function z1(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function F1(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?$(n):n,r]})}async function _1(e){return await e.request({method:"evm_snapshot"})}async function O1(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function L1({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>u1(n,r),dumpState:()=>f1(n),getAutomine:()=>d1(n),getTxpoolContent:()=>l1(n),getTxpoolStatus:()=>p1(n),impersonateAccount:r=>m1(n,r),increaseTime:r=>b1(n,r),inspectTxpool:()=>h1(n),loadState:r=>y1(n,r),mine:r=>g1(n,r),removeBlockTimestampInterval:()=>w1(n),reset:r=>x1(n,r),revert:r=>v1(n,r),sendUnsignedTransaction:r=>E1(n,r),setAutomine:r=>P1(n,r),setBalance:r=>I1(n,r),setBlockGasLimit:r=>T1(n,r),setBlockTimestampInterval:r=>A1(n,r),setCode:r=>S1(n,r),setCoinbase:r=>B1(n,r),setIntervalMining:r=>$1(n,r),setLoggingEnabled:r=>C1(n,r),setMinGasPrice:r=>k1(n,r),setNextBlockBaseFeePerGas:r=>R1(n,r),setNextBlockTimestamp:r=>N1(n,r),setNonce:r=>M1(n,r),setRpcUrl:r=>z1(n,r),setStorageAt:r=>F1(n,r),snapshot:()=>_1(n),stopImpersonatingAccount:r=>O1(n,r)}}}function Lm(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Cs({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...L1({mode:r})(a)}))}async function q1(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:$(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function U1(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Mn({abi:n,args:r,bytecode:s});return _n(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function j1(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>no(r))}async function D1(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?V(n):void 0,a=r?[s==null?void 0:s.address,[$(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:a}),c={};for(const[i,u]of Object.entries(o)){c[Number(i)]={};for(let[f,l]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),c[Number(i)][f]=l}return typeof r=="number"?c[r]:c}async function G1(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Tc(e,t){var i;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Le({docsPath:"/docs/eip7702/prepareAuthorization"});const a=V(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:V(t.executor)})(),c={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof c.chainId>"u"&&(c.chainId=((i=e.chain)==null?void 0:i.id)??await F(e,et,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await F(e,Bn,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&_e(o.address,a.address))&&(c.nonce+=1)),c}async function H1(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ee(n))}async function V1(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function W1(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await bi(e,t);return await yi(e,{...t,id:s.id,timeout:r})}const br=new vn(128);async function Ac(e,t){var v,E,P,I;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,pollingInterval:m,throwOnReceiptRevert:b,type:g,value:y,...x}=t,w=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Le({docsPath:"/docs/actions/wallet/sendTransactionSync"});const h=n?V(n):null;try{Oe(t);const A=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await An({authorization:a[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`.")})})();if((h==null?void 0:h.type)==="json-rpc"||h===null){let C;r!==null&&(C=await F(e,et,"getChainId")({}),Ss({currentChainId:C,chain:r}));const T=(P=(E=(v=e.chain)==null?void 0:v.formatters)==null?void 0:E.transactionRequest)==null?void 0:P.format,N=(T||Fe)({...bt(x,{format:T}),accessList:s,account:h,authorizationList:a,blobs:o,chainId:C,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,to:A,type:g,value:y},"sendTransaction"),q=br.get(e.uid),S=q?"wallet_sendTransaction":"eth_sendTransaction",R=await(async()=>{try{return await e.request({method:S,params:[N]},{retryCount:0})}catch(B){if(q===!1)throw B;const z=B;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(O=>(br.set(e.uid,!0),O)).catch(O=>{const j=O;throw j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"?(br.set(e.uid,!1),z):j});throw z}})(),_=await F(e,Ic,"waitForTransactionReceipt")({checkReplacement:!1,hash:R,pollingInterval:m,timeout:w});if(b&&_.status==="reverted")throw new Co({receipt:_});return _}if((h==null?void 0:h.type)==="local"){const C=await F(e,zt,"prepareTransactionRequest")({account:h,accessList:s,authorizationList:a,blobs:o,chain:r,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,nonceManager:h.nonceManager,parameters:[...ms,"sidecars"],type:g,value:y,...x,to:A}),T=(I=r==null?void 0:r.serializers)==null?void 0:I.transaction,k=await h.signTransaction(C,{serializer:T});return await F(e,Vs,"sendRawTransactionSync")({serializedTransaction:k,throwOnReceiptRevert:b})}throw(h==null?void 0:h.type)==="smart"?new Ve({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ve({docsPath:"/docs/actions/wallet/sendTransactionSync",type:h==null?void 0:h.type})}catch(A){throw A instanceof Ve?A:Bs(A,{...t,account:h,chain:t.chain||void 0})}}async function Z1(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function K1(e,t){const{account:n=e.account}=t;if(!n)throw new Le({docsPath:"/docs/eip7702/signAuthorization"});const r=V(n);if(!r.signAuthorization)throw new Ve({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Tc(e,t);return r.signAuthorization(s)}async function Y1(e,{account:t=e.account,message:n}){if(!t)throw new Le({docsPath:"/docs/actions/wallet/signMessage"});const r=V(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Pt(n):n.raw instanceof Uint8Array?$e(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function J1(e,t){var u,f,l,p;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Le({docsPath:"/docs/actions/wallet/signTransaction"});const a=V(n);Oe({account:a,...t});const o=await F(e,et,"getChainId")({});r!==null&&Ss({currentChainId:o,chain:r});const c=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),i=((f=c==null?void 0:c.transactionRequest)==null?void 0:f.format)||Fe;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:(p=(l=e.chain)==null?void 0:l.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...i({...s,account:a},"signTransaction"),chainId:$(o),from:a.address}]},{retryCount:0})}async function X1(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Le({docsPath:"/docs/actions/wallet/signTypedData"});const o=V(n),c={EIP712Domain:ru({domain:r}),...t.types};if(su({domain:r,message:s,primaryType:a,types:c}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:c});const i=au({domain:r,message:s,primaryType:a,types:c});return e.request({method:"eth_signTypedData_v4",params:[o.address,i]},{retryCount:0})}async function Q1(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:$(t)}]},{retryCount:0})}async function em(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function tm(e,t){return ft.internal(e,Ac,"sendTransactionSync",t)}function nm(e){return{addChain:t=>q1(e,t),deployContract:t=>U1(e,t),getAddresses:()=>j1(e),getCallsStatus:t=>hi(e,t),getCapabilities:t=>D1(e,t),getChainId:()=>et(e),getPermissions:()=>G1(e),prepareAuthorization:t=>Tc(e,t),prepareTransactionRequest:t=>zt(e,t),requestAddresses:()=>H1(e),requestPermissions:t=>V1(e,t),sendCalls:t=>bi(e,t),sendCallsSync:t=>W1(e,t),sendRawTransaction:t=>$s(e,t),sendRawTransactionSync:t=>Vs(e,t),sendTransaction:t=>_n(e,t),sendTransactionSync:t=>Ac(e,t),showCallsStatus:t=>Z1(e,t),signAuthorization:t=>K1(e,t),signMessage:t=>Y1(e,t),signTransaction:t=>J1(e,t),signTypedData:t=>X1(e,t),switchChain:t=>Q1(e,t),waitForCallsStatus:t=>yi(e,t),watchAsset:t=>em(e,t),writeContract:t=>ft(e,t),writeContractSync:t=>tm(e,t)}}function qm(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Cs({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(nm)}function Vn({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:c},i){const u=gi();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:c},request:ld(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:i}}function Um(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>Vn({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function jm(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=rm,retryCount:o,retryDelay:c}=t;return(({chain:i,pollingInterval:u=4e3,timeout:f,...l})=>{let p=e,d=()=>{};const m=Vn({key:n,name:r,async request({method:b,params:g}){let y;const x=async(w=0)=>{const h=p[w]({...l,chain:i,retryCount:0,timeout:f});try{const v=await h.request({method:b,params:g});return d({method:b,params:g,response:v,transport:h,status:"success"}),v}catch(v){if(d({error:v,method:b,params:g,transport:h,status:"error"}),a(v)||w===p.length-1||(y??(y=p.slice(w+1).some(E=>{const{include:P,exclude:I}=E({chain:i}).config.methods||{};return P?P.includes(b):I?!I.includes(b):!0})),!y))throw v;return x(w+1)}};return x()},retryCount:o,retryDelay:c,type:"fallback"},{onResponse:b=>d=b,transports:p.map(b=>b({chain:i,retryCount:0}))});if(s){const b=typeof s=="object"?s:{};sm({chain:i,interval:b.interval??u,onTransports:g=>p=g,ping:b.ping,sampleCount:b.sampleCount,timeout:b.timeout,transports:p,weights:b.weights})}return m})}function rm(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Er.code||e.code===nn.code||je.nodeMessage.test(e.message)||e.code===5e3))}function sm({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:o,weights:c={}}){const{stability:i=.7,latency:u=.3}=c,f=[],l=async()=>{const p=await Promise.all(o.map(async b=>{const g=b({chain:e,retryCount:0,timeout:a}),y=Date.now();let x,w;try{await(r?r({transport:g}):g.request({method:"net_listening"})),w=1}catch{w=0}finally{x=Date.now()}return{latency:x-y,success:w}}));f.push(p),f.length>s&&f.shift();const d=Math.max(...f.map(b=>Math.max(...b.map(({latency:g})=>g)))),m=o.map((b,g)=>{const y=f.map(E=>E[g].latency),w=1-y.reduce((E,P)=>E+P,0)/y.length/d,h=f.map(E=>E[g].success),v=h.reduce((E,P)=>E+P,0)/h.length;return v===0?[0,g]:[u*w+i*v,g]}).sort((b,g)=>g[0]-b[0]);n(m.map(([,b])=>o[b])),await yn(t),l()};l()}class Sc extends M{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Dm(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:o,name:c="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:p,retryCount:d,timeout:m})=>{const{batchSize:b=1e3,wait:g=0}=typeof n=="object"?n:{},y=t.retryCount??d,x=m??t.timeout??1e4,w=e||(p==null?void 0:p.rpcUrls.default.http[0]);if(!w)throw new Sc;const h=Md(w,{fetchFn:r,fetchOptions:s,onRequest:i,onResponse:u,timeout:x});return Vn({key:a,methods:o,name:c,async request({method:v,params:E}){const P={method:v,params:E},{schedule:I}=As({id:w,wait:g,shouldSplitBatch(k){return k.length>b},fn:k=>h.request({body:k}),sort:(k,N)=>k.id-N.id}),A=async k=>n?I(k):[await h.request({body:k})],[{error:C,result:T}]=await A(P);if(l)return{error:C,result:T};if(C)throw new ss({body:P,error:C,url:w});return T},retryCount:y,retryDelay:f,timeout:x,type:"http"},{fetchOptions:s,url:w})}}function Gm(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:c}=t;return({chain:i,retryCount:u,timeout:f})=>{var b;const l=t.retryCount??u,p=f??t.timeout??1e4,d=e||((b=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:b[0]),m={keepAlive:n,reconnect:o};if(!d)throw new Sc;return Vn({key:r,methods:s,name:a,async request({method:g,params:y}){const x={method:g,params:y},w=await rn(d,m),{error:h,result:v}=await w.requestAsync({body:x,timeout:p});if(h)throw new ss({body:x,error:h,url:d});return v},retryCount:l,retryDelay:c,timeout:p,type:"webSocket"},{getSocket(){return Fd(d)},getRpcClient(){return rn(d,m)},async subscribe({params:g,onData:y,onError:x}){const w=await rn(d,m),{result:h}=await new Promise((v,E)=>w.request({body:{method:"eth_subscribe",params:g},onError(P){E(P),x==null||x(P)},onResponse(P){if(P.error){E(P.error),x==null||x(P.error);return}if(typeof P.id=="number"){v(P);return}P.method==="eth_subscription"&&y(P.params)}}));return{subscriptionId:h,async unsubscribe(){return new Promise(v=>w.request({body:{method:"eth_unsubscribe",params:[h]},onResponse:v}))}}}})}}class Hm extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const hr="/docs/contract/decodeDeployData";function Vm(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new ao({docsPath:hr});if(!("inputs"in s))throw new on({docsPath:hr});if(!s.inputs||s.inputs.length===0)throw new on({docsPath:hr});return{args:xn(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function Wm(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(c=>me(c)):e.blobs,r=n.reduce((c,i)=>c+i.length,0),s=an(new Uint8Array(r));let a=!0;for(const c of n){const i=an(c);for(;a&&i.position<c.length;){i.incrementPosition(1);let u=31;c.length-i.position<31&&(u=c.length-i.position);for(const f in Array.from({length:u})){const l=i.readByte();if(l===128&&!i.inspectBytes(i.remaining).includes(128)){a=!1;break}s.pushByte(l)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?ie(o):o}function Zm(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(zo({commitment:a,to:r,version:n}));return s}const am=2147483648;function Km(e){if(e===1)return 60n;if(e>=am||e<0)throw new kf({chainId:e});return BigInt((2147483648|e)>>>0)}function om({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Ym(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return om(e)}function Jm({r:e,yParityAndS:t}){const n=me(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:ie(s),yParity:r}}function Xm(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130));return{r:$(t,{size:32}),yParityAndS:$(n,{size:32})}}function Qm(e){const{r:t,s:n}=gt.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:$(t,{size:32}),s:$(n,{size:32}),v:s,yParity:a}:{r:$(t,{size:32}),s:$(n,{size:32}),yParity:a}}async function eb(e){const{serializedTransaction:t,signature:n}=e,r=xp(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=rd({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await mt({hash:Be(a),signature:s})}function tb({r:e,yParityAndS:t}){return`0x${new gt.Signature(D(e),D(t)).toCompactHex()}`}function nb(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const c=me(n);c[0]|=128,o=ie(c)}return{r:t,yParityAndS:o}}export{ao as AbiConstructorNotFoundError,on as AbiConstructorParamsNotFoundError,ab as AbiDecodingDataSizeInvalidError,ob as AbiDecodingDataSizeTooSmallError,ts as AbiDecodingZeroDataError,ib as AbiEncodingArrayLengthMismatchError,cb as AbiEncodingBytesSizeMismatchError,_c as AbiEncodingLengthMismatchError,Rc as AbiErrorInputsNotFoundError,Zs as AbiErrorNotFoundError,$c as AbiErrorSignatureNotFoundError,ub as AbiEventNotFoundError,fb as AbiEventSignatureEmptyTopicsError,db as AbiEventSignatureNotFoundError,ut as AbiFunctionNotFoundError,so as AbiFunctionOutputsNotFoundError,kc as AbiFunctionSignatureNotFoundError,e0 as AccountStateConflictError,Js as AtomicReadyWalletRejectedUpgradeError,xr as AtomicityNotSupportedError,M as BaseError,g0 as BaseFeeScalarError,No as BlockNotFoundError,Ef as BundleFailedError,Xs as BundleTooLargeError,Uc as BytesSizeMismatchError,ko as CallExecutionError,ra as ChainDisconnectedError,Lr as ChainDoesNotSupportContract,ff as ChainMismatchError,df as ChainNotFoundError,Ou as CircularReferenceError,ci as ClientChainNotConfiguredError,Ro as ContractFunctionExecutionError,Sr as ContractFunctionRevertedError,u0 as ContractFunctionZeroDataError,f0 as CounterfactualDeploymentFailedError,io as DecodeLogDataMismatch,co as DecodeLogTopicsMismatch,ea as DuplicateIdError,Hm as EIP1193ProviderRpcError,cs as Eip1559FeesNotSupportedError,Et as EnsAvatarInvalidNftUriError,Cf as EnsAvatarUnsupportedNamespaceError,Ns as EnsAvatarUriResolutionError,kf as EnsInvalidChainIdError,b0 as EstimateGasExecutionError,je as ExecutionRevertedError,Ye as FeeCapTooHighError,Br as FeeCapTooLowError,r0 as FeeConflictError,lb as FilterTypeNotSupportedError,Ge as HttpRequestError,Rr as InsufficientFundsError,pb as IntegerOutOfRangeError,fn as InternalRpcError,Nr as IntrinsicGasTooHighError,Mr as IntrinsicGasTooLowError,mb as InvalidAbiDecodingTypeError,bb as InvalidAbiEncodingTypeError,Au as InvalidAbiItemError,$u as InvalidAbiParameterError,Cu as InvalidAbiParametersError,zu as InvalidAbiTypeParameterError,ve as InvalidAddressError,Nc as InvalidArrayError,hb as InvalidBytesBooleanError,Nn as InvalidChainIdError,Sp as InvalidDecimalNumberError,yb as InvalidDefinitionTypeError,gb as InvalidDomainError,Mu as InvalidFunctionModifierError,wb as InvalidHexBooleanError,Gc as InvalidHexValueError,dn as InvalidInputRpcError,So as InvalidLegacyVError,Nu as InvalidModifierError,ku as InvalidParameterError,fa as InvalidParamsRpcError,Lu as InvalidParenthesisError,xb as InvalidPrimaryTypeError,la as InvalidRequestRpcError,s0 as InvalidSerializableTransactionError,Nt as InvalidSerializedTransactionError,a0 as InvalidSerializedTransactionTypeError,pt as InvalidSignatureError,o0 as InvalidStorageKeySizeError,_u as InvalidStructSignatureError,vb as InvalidStructTypeError,ia as JsonRpcVersionUnsupportedError,vr as LimitExceededRpcError,w0 as MaxFeePerGasTooLowError,da as MethodNotFoundRpcError,Vt as MethodNotSupportedRpcError,kr as NonceMaxValueError,$r as NonceTooHighError,Cr as NonceTooLowError,pa as ParseRpcError,sa as ProviderDisconnectedError,rh as ProviderRpcError,Tn as RawContractError,ua as ResourceNotFoundRpcError,ca as ResourceUnavailableRpcError,sh as RpcError,ss as RpcRequestError,Eb as SizeExceedsPaddingSizeError,Pb as SizeOverflowError,Ib as SliceOffsetOutOfBoundsError,ln as SocketClosedError,Ru as SolidityProtectedKeywordError,t0 as StateAssignmentConflictError,na as SwitchChainError,Pr as TimeoutError,It as TipAboveFeeCapError,i0 as TransactionExecutionError,Bo as TransactionNotFoundError,$o as TransactionReceiptNotFoundError,Er as TransactionRejectedRpcError,zr as TransactionTypeNotSupportedError,oa as UnauthorizedProviderError,Qs as UnknownBundleIdError,Mt as UnknownNodeError,iu as UnknownRpcError,Fu as UnknownSignatureError,Su as UnknownTypeError,ta as UnsupportedChainIdError,wr as UnsupportedNonOptionalCapabilityError,Dc as UnsupportedPackedAbiType,aa as UnsupportedProviderMethodError,Sc as UrlRequiredError,nn as UserRejectedRequestError,Pf as WaitForCallsStatusTimeoutError,c0 as WaitForTransactionReceiptTimeoutError,ma as WebSocketRequestError,Ss as assertCurrentChain,Oe as assertRequest,On as assertTransactionEIP1559,$i as assertTransactionEIP2930,Ci as assertTransactionLegacy,fs as blobsToCommitments,ds as blobsToProofs,Tb as boolToBytes,Oc as boolToHex,Ab as bytesToBigInt,Sb as bytesToBool,ie as bytesToHex,Bb as bytesToNumber,oh as bytesToRlp,$b as bytesToString,Ri as ccipFetch,Ri as ccipRequest,no as checksumAddress,zo as commitmentToVersionedHash,Fo as commitmentsToVersionedHashes,tb as compactSignatureToHex,Jm as compactSignatureToSignature,We as concat,Cb as concatBytes,he as concatHex,Cs as createClient,kd as createNonceManager,Om as createPublicClient,Lm as createTestClient,Vn as createTransport,qm as createWalletClient,Um as custom,xn as decodeAbiParameters,Vm as decodeDeployData,to as decodeErrorResult,oo as decodeEventLog,If as decodeFunctionData,tt as decodeFunctionResult,kb as defineBlock,Rb as defineChain,om as defineKzg,Nb as defineTransaction,Mb as defineTransactionReceipt,zb as defineTransactionRequest,ii as deploylessCallViaBytecodeBytecode,cf as deploylessCallViaFactoryBytecode,Fb as domainSeparator,lt as encodeAbiParameters,Mn as encodeDeployData,za as encodeErrorResult,Bt as encodeEventTopics,de as encodeFunctionData,Tf as encodeFunctionResult,vm as encodePacked,hm as erc1155Abi,mm as erc20Abi,bm as erc20Abi_bytes32,gm as erc4626Abi,Na as erc6492SignatureValidatorAbi,uf as erc6492SignatureValidatorByteCode,ym as erc721Abi,Up as ethAddress,Io as etherUnits,Pm as extractChain,jm as fallback,ro as formatBlock,os as formatEther,oe as formatGwei,Ne as formatLog,tu as formatTransaction,lo as formatTransactionReceipt,Fe as formatTransactionRequest,Ao as formatUnits,Wm as fromBlobs,_b as fromBytes,Ob as fromHex,Ni as fromRlp,dt as getAbiItem,Ee as getAddress,ht as getChainContractAddress,wm as getContract,Em as getContractAddress,Ke as getContractError,nd as getCreate2Address,td as getCreateAddress,Lb as getEventSelector,qb as getEventSignature,es as getFunctionSelector,Ub as getFunctionSignature,wp as getSerializedTransactionType,Uo as getTransactionType,ru as getTypesForEIP712Domain,To as gweiUnits,jb as hashDomain,zs as hashMessage,Db as hashStruct,fo as hashTypedData,D as hexToBigInt,nu as hexToBool,me as hexToBytes,Xm as hexToCompactSignature,H as hexToNumber,ih as hexToRlp,Qm as hexToSignature,Gb as hexToString,Dm as http,ye as isAddress,_e as isAddressEqual,_a as isBytes,Ld as isErc6492Signature,hp as isErc8010Signature,vd as isHash,U as isHex,Be as keccak256,Fc as labelhash,ch as maxInt104,uh as maxInt112,fh as maxInt120,dh as maxInt128,lh as maxInt136,ph as maxInt144,mh as maxInt152,bh as maxInt16,hh as maxInt160,yh as maxInt168,gh as maxInt176,wh as maxInt184,xh as maxInt192,vh as maxInt200,Eh as maxInt208,Ph as maxInt216,Ih as maxInt224,Th as maxInt232,Ah as maxInt24,Sh as maxInt240,Bh as maxInt248,$h as maxInt256,Ch as maxInt32,kh as maxInt40,Rh as maxInt48,Nh as maxInt56,Mh as maxInt64,zh as maxInt72,Fh as maxInt8,_h as maxInt80,Oh as maxInt88,Lh as maxInt96,qh as maxUint104,Uh as maxUint112,jh as maxUint120,Dh as maxUint128,Gh as maxUint136,Hh as maxUint144,Vh as maxUint152,Wh as maxUint16,Zh as maxUint160,Kh as maxUint168,Yh as maxUint176,Jh as maxUint184,Xh as maxUint192,Qh as maxUint200,ey as maxUint208,ty as maxUint216,ny as maxUint224,ry as maxUint232,sy as maxUint24,ay as maxUint240,oy as maxUint248,En as maxUint256,iy as maxUint32,cy as maxUint40,uy as maxUint48,fy as maxUint56,dy as maxUint64,ly as maxUint72,py as maxUint8,my as maxUint80,by as maxUint88,hy as maxUint96,yy as minInt104,gy as minInt112,wy as minInt120,xy as minInt128,vy as minInt136,Ey as minInt144,Py as minInt152,Iy as minInt16,Ty as minInt160,Ay as minInt168,Sy as minInt176,By as minInt184,$y as minInt192,Cy as minInt200,ky as minInt208,Ry as minInt216,Ny as minInt224,My as minInt232,zy as minInt24,Fy as minInt240,_y as minInt248,Oy as minInt256,Ly as minInt32,qy as minInt40,Uy as minInt48,jy as minInt56,Dy as minInt64,Gy as minInt72,Hy as minInt8,Vy as minInt80,Wy as minInt88,Zy as minInt96,hn as multicall3Abi,Ur as namehash,Tm as nonceManager,Hb as numberToBytes,$ as numberToHex,gd as offchainLookup,ki as offchainLookupAbiItem,yd as offchainLookupSignature,tn as pad,Vb as padBytes,Ys as padHex,Eo as parseAbi,ba as parseAbiItem,fm as parseAbiParameter,ha as parseAbiParameters,Xm as parseCompactSignature,$m as parseErc6492Signature,Cm as parseErc8010Signature,Fm as parseEther,rs as parseEventLogs,_m as parseGwei,Qm as parseSignature,xp as parseTransaction,gc as parseUnits,Qu as prepareEncodeFunctionData,_d as presignMessagePrefix,c1 as publicActions,mt as recoverAddress,yp as recoverMessageAddress,p0 as recoverPublicKey,eb as recoverTransactionAddress,gp as recoverTypedDataAddress,Im as ripemd160,xm as rpcSchema,Wb as rpcTransactionType,Ln as serializeAccessList,tb as serializeCompactSignature,km as serializeErc6492Signature,Rm as serializeErc8010Signature,Zp as serializeSignature,rd as serializeTransaction,au as serializeTypedData,Zb as setErrorConfig,Ym as setupKzg,cu as sha256,rm as shouldThrow,Zm as sidecarsToVersionedHashes,nb as signatureToCompactSignature,Zp as signatureToHex,Ct as size,un as slice,Kb as sliceBytes,cn as sliceHex,en as stringToBytes,Pt as stringToHex,X as stringify,L1 as testActions,ps as toBlobSidecars,T0 as toBlobs,Re as toBytes,Km as toCoinType,Yb as toEventHash,Jb as toEventSelector,Xb as toEventSignature,Qb as toFunctionHash,es as toFunctionSelector,eh as toFunctionSignature,$e as toHex,Od as toPrefixedMessage,Me as toRlp,th as transactionType,Ze as trim,Na as universalSignatureValidatorAbi,uf as universalSignatureValidatorByteCode,su as validateTypedData,Nm as verifyHash,Mm as verifyMessage,zm as verifyTypedData,nm as walletActions,Gm as webSocket,dm as weiUnits,xf as withCache,gn as withRetry,uo as withTimeout,we as zeroAddress,Am as zeroHash};
